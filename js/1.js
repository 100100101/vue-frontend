var _Mathatan=Math.atan,_Mathexp=Math.exp,_Mathacos=Math.acos,_Mathsin=Math.sin,_MathLN=Math.LN2,_Mathlog=Math.log,_Mathcos=Math.cos,_MathPI=Math.PI,_Mathmin=Math.min,_Mathabs=Math.abs,_Mathsqrt=Math.sqrt,_Mathceil=Math.ceil,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathround=Math.round,_Mathpow=Math.pow;webpackJsonp([1],{740:function(o,_,g){var P=g(0),T=g(749),C=g(751),A=P(T,C,!1,function(){!1||(g(747),g(748))},"data-v-7a08c805",null);A.options.__file="source/components/Module/maps-view/components/tangram-map/index.vue",A.esModule&&Object.keys(A.esModule).some(function(O){return"default"!==O&&"__"!==O.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),!1,o.exports=A.exports},747:function(){},748:function(){},749:function(o,_,g){"use strict";(function(h,v,P){var T=g(750);o.exports={name:function(C){return"index"===C?function(Z){return Z[Z.length-1]}(P.split(h.sep)):C}(h.basename(v,h.extname(v))),data:function(){return{map:null,layer:null}},methods:{updateMapOptions:function(){}},mounted:function(){this.map=T.map(this.$refs.map),this.layer=Tangram.leafletLayer({scene:{cameras:{camera1:{type:"perspective"}},lights:{light1:{type:"directional",direction:[0,1,"-.5"],diffuse:0.3,ambient:1}},sources:{mapzen:{type:"TopoJSON",url:"https://tile.mapzen.com/mapzen/vector/v1/all/{z}/{x}/{y}.topojson",url_params:{api_key:"mapzen-tDHBHDp"},max_zoom:16}},layers:{earth:{data:{source:"mapzen"},draw:{polygons:{order:"function() { return feature.sort_rank; }",color:"#ddeeee"}}},landuse:{data:{source:"mapzen"},draw:{polygons:{order:"function() { return feature.sort_rank; }",color:"#aaffaa"}}},water:{data:{source:"mapzen"},draw:{polygons:{order:"function() { return feature.sort_rank; }",color:"#88bbee"}}},roads:{data:{source:"mapzen"},filter:{not:{kind:["path","rail","ferry"]}},draw:{lines:{order:"function() { return feature.sort_rank; }",color:"gray",width:8,cap:"round"}},highway:{filter:{kind:"highway"},draw:{lines:{order:"function() { return feature.sort_rank; }",color:"#cc6666",width:12,outline:{color:"grey",width:1.5}}}},minor_road:{filter:{kind:"minor_road"},draw:{lines:{order:"function() { return feature.sort_rank; }",color:"lightgrey",width:5}}}},buildings:{data:{source:"mapzen"},draw:{polygons:{order:"function() { return feature.sort_rank; }",color:"function () {\n    var h = feature.height || 20;\n    h = Math.min((h + 50)/ 255, .8); // max brightness: .8\n    h = Math.max(h, .4); // min brightness: .4\n    return [h, h, h];\n}\n"}},"3d-buildings":{filter:{$zoom:{min:15}},draw:{polygons:{extrude:"function () { return feature.height > 20 || $zoom >= 16; }"}}}}}}}),this.layer.addTo(this.map),this.map.setView([55.73801,37.59218],16)}}}).call(_,g(1),"source/components/Module/maps-view/components/tangram-map/index.vue","source/components/Module/maps-view/components/tangram-map")},750:function(o,_){"use strict";var h,v,P,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};/* @preserve
 * Leaflet 1.2.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(C,Z){"object"===T(_)&&"undefined"!=typeof o?Z(_):(v=[_],h=Z,P="function"==typeof h?h.apply(_,v):h,!(P!==void 0&&(o.exports=P)))})(void 0,function(C){"use strict";function Z(Aa){var Oa,Ma,Ra,Da;for(Ma=1,Ra=arguments.length;Ma<Ra;Ma++)for(Oa in Da=arguments[Ma],Da)Aa[Oa]=Da[Oa];return Aa}function E(Aa,Oa){var Ma=Array.prototype.slice;if(Aa.bind)return Aa.bind.apply(Aa,Ma.call(arguments,1));var Ra=Ma.call(arguments,2);return function(){return Aa.apply(Oa,Ra.length?Ra.concat(Ma.call(arguments)):arguments)}}function B(Aa){return Aa._leaflet_id=Aa._leaflet_id||++qt,Aa._leaflet_id}function I(Aa,Oa,Ma){var Ra,Da,Na,ja;return ja=function(){Ra=!1,Da&&(Na.apply(Ma,Da),Da=!1)},Na=function(){Ra?Da=arguments:(Aa.apply(Ma,arguments),setTimeout(ja,Oa),Ra=!0)},Na}function A(Aa,Oa,Ma){var Ra=Oa[1],Da=Oa[0],Na=Ra-Da;return Aa===Ra&&Ma?Aa:((Aa-Da)%Na+Na)%Na+Da}function O(){return!1}function M(Aa,Oa){var Ma=_Mathpow(10,Oa||5);return _Mathround(Aa*Ma)/Ma}function R(Aa){return Aa.trim?Aa.trim():Aa.replace(/^\s+|\s+$/g,"")}function D(Aa){return R(Aa).split(/\s+/)}function N(Aa,Oa){for(var Ma in Aa.hasOwnProperty("options")||(Aa.options=Aa.options?Gt(Aa.options):{}),Oa)Aa.options[Ma]=Oa[Ma];return Aa.options}function W(Aa,Oa,Ma){var Ra=[];for(var Da in Aa)Ra.push(encodeURIComponent(Ma?Da.toUpperCase():Da)+"="+encodeURIComponent(Aa[Da]));return(Oa&&-1!==Oa.indexOf("?")?"&":"?")+Ra.join("&")}function H(Aa,Oa){return Aa.replace(Yt,function(Ma,Ra){var Da=Oa[Ra];if(Da===void 0)throw new Error("No value provided for variable "+Ma);else"function"==typeof Da&&(Da=Da(Oa));return Da})}function U(Aa,Oa){for(var Ma=0;Ma<Aa.length;Ma++)if(Aa[Ma]===Oa)return Ma;return-1}function V(Aa){return window["webkit"+Aa]||window["moz"+Aa]||window["ms"+Aa]}function K(Aa){var Oa=+new Date,Ma=_Mathmax(0,16-(Oa-$t));return $t=Oa+Ma,window.setTimeout(Aa,Ma)}function G(Aa,Oa,Ma){return Ma&&Qt===K?void Aa.call(Oa):Qt.call(window,E(Aa,Oa))}function q(Aa){Aa&&eo.call(window,Aa)}function Y(){}function X(Aa){if(L&&L.Mixin){Aa=Xt(Aa)?Aa:[Aa];for(var Oa=0;Oa<Aa.length;Oa++)Aa[Oa]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}function J(Aa,Oa,Ma){this.x=Ma?_Mathround(Aa):Aa,this.y=Ma?_Mathround(Oa):Oa}function $(Aa,Oa,Ma){return Aa instanceof J?Aa:Xt(Aa)?new J(Aa[0],Aa[1]):void 0===Aa||null===Aa?Aa:"object"===("undefined"==typeof Aa?"undefined":T(Aa))&&"x"in Aa&&"y"in Aa?new J(Aa.x,Aa.y):new J(Aa,Oa,Ma)}function Q(Aa,Oa){if(Aa)for(var Ma=Oa?[Aa,Oa]:Aa,Ra=0,Da=Ma.length;Ra<Da;Ra++)this.extend(Ma[Ra])}function ee(Aa,Oa){return!Aa||Aa instanceof Q?Aa:new Q(Aa,Oa)}function te(Aa,Oa){if(Aa)for(var Ma=Oa?[Aa,Oa]:Aa,Ra=0,Da=Ma.length;Ra<Da;Ra++)this.extend(Ma[Ra])}function oe(Aa,Oa){return Aa instanceof te?Aa:new te(Aa,Oa)}function ae(Aa,Oa,Ma){if(isNaN(Aa)||isNaN(Oa))throw new Error("Invalid LatLng object: ("+Aa+", "+Oa+")");this.lat=+Aa,this.lng=+Oa,Ma!==void 0&&(this.alt=+Ma)}function re(Aa,Oa,Ma){return Aa instanceof ae?Aa:Xt(Aa)&&"object"!==T(Aa[0])?3===Aa.length?new ae(Aa[0],Aa[1],Aa[2]):2===Aa.length?new ae(Aa[0],Aa[1]):null:void 0===Aa||null===Aa?Aa:"object"===("undefined"==typeof Aa?"undefined":T(Aa))&&"lat"in Aa?new ae(Aa.lat,"lng"in Aa?Aa.lng:Aa.lon,Aa.alt):void 0===Oa?null:new ae(Aa,Oa,Ma)}function le(Aa,Oa,Ma,Ra){return Xt(Aa)?(this._a=Aa[0],this._b=Aa[1],this._c=Aa[2],void(this._d=Aa[3])):void(this._a=Aa,this._b=Oa,this._c=Ma,this._d=Ra)}function de(Aa,Oa,Ma,Ra){return new le(Aa,Oa,Ma,Ra)}function _e(Aa){return document.createElementNS("http://www.w3.org/2000/svg",Aa)}function pe(Aa,Oa){var Ra,Da,Na,ja,Wa,Ha,Ma="";for(Ra=0,Na=Aa.length;Ra<Na;Ra++){for(Wa=Aa[Ra],Da=0,ja=Wa.length;Da<ja;Da++)Ha=Wa[Da],Ma+=(Da?"L":"M")+Ha.x+" "+Ha.y;Ma+=Oa?No?"z":"x":""}return Ma||"M0 0"}function me(Aa){return 0<=navigator.userAgent.toLowerCase().indexOf(Aa)}function ce(Aa,Oa,Ma,Ra){return"touchstart"===Oa?ge(Aa,Ma,Ra):"touchmove"===Oa?xe(Aa,Ma,Ra):"touchend"===Oa&&Le(Aa,Ma,Ra),this}function ue(Aa,Oa,Ma){var Ra=Aa["_leaflet_"+Oa+Ma];return"touchstart"===Oa?Aa.removeEventListener(Ho,Ra,!1):"touchmove"===Oa?Aa.removeEventListener(Fo,Ra,!1):"touchend"===Oa&&(Aa.removeEventListener(Uo,Ra,!1),Aa.removeEventListener(Vo,Ra,!1)),this}function ge(Aa,Oa,Ma){var Ra=E(function(Da){if("mouse"!==Da.pointerType&&Da.pointerType!==Da.MSPOINTER_TYPE_MOUSE&&Da.pointerType!==Da.MSPOINTER_TYPE_MOUSE)if(0>Ko.indexOf(Da.target.tagName))Ee(Da);else return;ve(Da,Oa)});Aa["_leaflet_touchstart"+Ma]=Ra,Aa.addEventListener(Ho,Ra,!1),qo||(document.documentElement.addEventListener(Ho,ye,!0),document.documentElement.addEventListener(Fo,fe,!0),document.documentElement.addEventListener(Uo,he,!0),document.documentElement.addEventListener(Vo,he,!0),qo=!0)}function ye(Aa){Go[Aa.pointerId]=Aa,Yo++}function fe(Aa){Go[Aa.pointerId]&&(Go[Aa.pointerId]=Aa)}function he(Aa){delete Go[Aa.pointerId],Yo--}function ve(Aa,Oa){for(var Ma in Aa.touches=[],Go)Aa.touches.push(Go[Ma]);Aa.changedTouches=[Aa],Oa(Aa)}function xe(Aa,Oa,Ma){var Ra=function(Na){(Na.pointerType===Na.MSPOINTER_TYPE_MOUSE||"mouse"===Na.pointerType)&&0===Na.buttons||ve(Na,Oa)};Aa["_leaflet_touchmove"+Ma]=Ra,Aa.addEventListener(Fo,Ra,!1)}function Le(Aa,Oa,Ma){var Ra=function(Na){ve(Na,Oa)};Aa["_leaflet_touchend"+Ma]=Ra,Aa.addEventListener(Uo,Ra,!1),Aa.addEventListener(Vo,Ra,!1)}function Pe(Aa,Oa,Ma){function Ra(Fa){var Ua;if(Io){if(!uo||"mouse"===Fa.pointerType)return;Ua=Yo}else Ua=Fa.touches.length;if(!(1<Ua)){var Va=Date.now(),Ka=Va-(Na||Va);ja=Fa.touches?Fa.touches[0]:Fa,Wa=0<Ka&&Ka<=Ha,Na=Va}}function Da(Fa){if(Wa&&!ja.cancelBubble){if(Io){if(!uo||"mouse"===Fa.pointerType)return;var Va,Ka,Ua={};for(Ka in ja)Va=ja[Ka],Ua[Ka]=Va&&Va.bind?Va.bind(ja):Va;ja=Ua}ja.type="dblclick",Oa(ja),Na=null}}var Na,ja,Wa=!1,Ha=250;return Aa[$o+Xo+Ma]=Ra,Aa[$o+Jo+Ma]=Da,Aa[$o+"dblclick"+Ma]=Oa,Aa.addEventListener(Xo,Ra,!1),Aa.addEventListener(Jo,Da,!1),Aa.addEventListener("dblclick",Oa,!1),this}function be(Aa,Oa){var Ma=Aa[$o+Xo+Oa],Ra=Aa[$o+Jo+Oa],Da=Aa[$o+"dblclick"+Oa];return Aa.removeEventListener(Xo,Ma,!1),Aa.removeEventListener(Jo,Ra,!1),uo||Aa.removeEventListener("dblclick",Da,!1),this}function Te(Aa,Oa,Ma,Ra){if("object"===("undefined"==typeof Oa?"undefined":T(Oa)))for(var Da in Oa)we(Aa,Da,Oa[Da],Ma);else{Oa=D(Oa);for(var Na=0,ja=Oa.length;Na<ja;Na++)we(Aa,Oa[Na],Ma,Ra)}return this}function ze(Aa,Oa,Ma,Ra){if("object"===("undefined"==typeof Oa?"undefined":T(Oa)))for(var Da in Oa)Ce(Aa,Da,Oa[Da],Ma);else if(Oa){Oa=D(Oa);for(var Na=0,ja=Oa.length;Na<ja;Na++)Ce(Aa,Oa[Na],Ma,Ra)}else{for(var Wa in Aa[Qo])Ce(Aa,Wa,Aa[Qo][Wa]);delete Aa[Qo]}return this}function we(Aa,Oa,Ma,Ra){var Da=Oa+B(Ma)+(Ra?"_"+B(Ra):"");if(Aa[Qo]&&Aa[Qo][Da])return this;var Na=function(Ha){return Ma.call(Ra||Aa,Ha||window.event)},ja=Na;Io&&0===Oa.indexOf("touch")?ce(Aa,Oa,Na,Da):Ao&&"dblclick"===Oa&&Pe&&!(Io&&vo)?Pe(Aa,Na,Da):"addEventListener"in Aa?"mousewheel"===Oa?Aa.addEventListener("onwheel"in Aa?"wheel":"mousewheel",Na,!1):"mouseenter"===Oa||"mouseleave"===Oa?(Na=function(Ha){Ha=Ha||window.event,Re(Aa,Ha)&&ja(Ha)},Aa.addEventListener("mouseenter"===Oa?"mouseover":"mouseout",Na,!1)):("click"===Oa&&yo&&(Na=function(Ha){De(Ha,ja)}),Aa.addEventListener(Oa,Na,!1)):"attachEvent"in Aa&&Aa.attachEvent("on"+Oa,Na),Aa[Qo]=Aa[Qo]||{},Aa[Qo][Da]=Na}function Ce(Aa,Oa,Ma,Ra){var Da=Oa+B(Ma)+(Ra?"_"+B(Ra):""),Na=Aa[Qo]&&Aa[Qo][Da];return Na?void(Io&&0===Oa.indexOf("touch")?ue(Aa,Oa,Da):Ao&&"dblclick"===Oa&&be?be(Aa,Da):"removeEventListener"in Aa?"mousewheel"===Oa?Aa.removeEventListener("onwheel"in Aa?"wheel":"mousewheel",Na,!1):Aa.removeEventListener("mouseenter"===Oa?"mouseover":"mouseleave"===Oa?"mouseout":Oa,Na,!1):"detachEvent"in Aa&&Aa.detachEvent("on"+Oa,Na),Aa[Qo][Da]=null):this}function ke(Aa){return Aa.stopPropagation?Aa.stopPropagation():Aa.originalEvent?Aa.originalEvent._stopped=!0:Aa.cancelBubble=!0,Me(Aa),this}function Ze(Aa){return we(Aa,"mousewheel",ke),this}function Se(Aa){return Te(Aa,"mousedown touchstart dblclick",ke),we(Aa,"click",Oe),this}function Ee(Aa){return Aa.preventDefault?Aa.preventDefault():Aa.returnValue=!1,this}function Be(Aa){return Ee(Aa),ke(Aa),this}function Ie(Aa,Oa){if(!Oa)return new J(Aa.clientX,Aa.clientY);var Ma=Oa.getBoundingClientRect();return new J(Aa.clientX-Ma.left-Oa.clientLeft,Aa.clientY-Ma.top-Oa.clientTop)}function Ae(Aa){return uo?Aa.wheelDeltaY/2:Aa.deltaY&&0===Aa.deltaMode?-Aa.deltaY/en:Aa.deltaY&&1===Aa.deltaMode?20*-Aa.deltaY:Aa.deltaY&&2===Aa.deltaMode?60*-Aa.deltaY:Aa.deltaX||Aa.deltaZ?0:Aa.wheelDelta?(Aa.wheelDeltaY||Aa.wheelDelta)/2:Aa.detail&&32765>_Mathabs(Aa.detail)?20*-Aa.detail:Aa.detail?60*(Aa.detail/-32765):0}function Oe(Aa){tn[Aa.type]=!0}function Me(Aa){var Oa=tn[Aa.type];return tn[Aa.type]=!1,Oa}function Re(Aa,Oa){var Ma=Oa.relatedTarget;if(!Ma)return!0;try{for(;Ma&&Ma!==Aa;)Ma=Ma.parentNode}catch(Ra){return!1}return Ma!==Aa}function De(Aa,Oa){var Ma=Aa.timeStamp||Aa.originalEvent&&Aa.originalEvent.timeStamp,Ra=nn&&Ma-nn;return Ra&&100<Ra&&500>Ra||Aa.target._simulatedClick&&!Aa._simulated?void Be(Aa):void(nn=Ma,Oa(Aa))}function Ne(Aa){return"string"==typeof Aa?document.getElementById(Aa):Aa}function je(Aa,Oa){var Ma=Aa.style[Oa]||Aa.currentStyle&&Aa.currentStyle[Oa];if((!Ma||"auto"===Ma)&&document.defaultView){var Ra=document.defaultView.getComputedStyle(Aa,null);Ma=Ra?Ra[Oa]:null}return"auto"===Ma?null:Ma}function We(Aa,Oa,Ma){var Ra=document.createElement(Aa);return Ra.className=Oa||"",Ma&&Ma.appendChild(Ra),Ra}function He(Aa){var Oa=Aa.parentNode;Oa&&Oa.removeChild(Aa)}function Fe(Aa){for(;Aa.firstChild;)Aa.removeChild(Aa.firstChild)}function Ue(Aa){var Oa=Aa.parentNode;Oa.lastChild!==Aa&&Oa.appendChild(Aa)}function Ve(Aa){var Oa=Aa.parentNode;Oa.firstChild!==Aa&&Oa.insertBefore(Aa,Oa.firstChild)}function Ke(Aa,Oa){if(Aa.classList!==void 0)return Aa.classList.contains(Oa);var Ma=Xe(Aa);return 0<Ma.length&&new RegExp("(^|\\s)"+Oa+"(\\s|$)").test(Ma)}function Ge(Aa,Oa){if(Aa.classList!==void 0)for(var Ma=D(Oa),Ra=0,Da=Ma.length;Ra<Da;Ra++)Aa.classList.add(Ma[Ra]);else if(!Ke(Aa,Oa)){var Na=Xe(Aa);Ye(Aa,(Na?Na+" ":"")+Oa)}}function qe(Aa,Oa){Aa.classList===void 0?Ye(Aa,R((" "+Xe(Aa)+" ").replace(" "+Oa+" "," "))):Aa.classList.remove(Oa)}function Ye(Aa,Oa){Aa.className.baseVal===void 0?Aa.className=Oa:Aa.className.baseVal=Oa}function Xe(Aa){return Aa.className.baseVal===void 0?Aa.className:Aa.className.baseVal}function Je(Aa,Oa){"opacity"in Aa.style?Aa.style.opacity=Oa:"filter"in Aa.style&&$e(Aa,Oa)}function $e(Aa,Oa){var Ma=!1,Ra="DXImageTransform.Microsoft.Alpha";try{Ma=Aa.filters.item(Ra)}catch(Da){if(1===Oa)return}Oa=_Mathround(100*Oa),Ma?(Ma.Enabled=100!==Oa,Ma.Opacity=Oa):Aa.style.filter+=" progid:"+Ra+"(opacity="+Oa+")"}function Qe(Aa){for(var Oa=document.documentElement.style,Ma=0;Ma<Aa.length;Ma++)if(Aa[Ma]in Oa)return Aa[Ma];return!1}function et(Aa,Oa,Ma){var Ra=Oa||new J(0,0);Aa.style[rn]=(zo?"translate("+Ra.x+"px,"+Ra.y+"px)":"translate3d("+Ra.x+"px,"+Ra.y+"px,0)")+(Ma?" scale("+Ma+")":"")}function tt(Aa,Oa){Aa._leaflet_pos=Oa,ko?et(Aa,Oa):(Aa.style.left=Oa.x+"px",Aa.style.top=Oa.y+"px")}function ot(Aa){return Aa._leaflet_pos||new J(0,0)}function nt(){Te(window,"dragstart",Ee)}function at(){ze(window,"dragstart",Ee)}function it(Aa){for(;-1===Aa.tabIndex;)Aa=Aa.parentNode;Aa.style&&(rt(),cn=Aa,un=Aa.style.outline,Aa.style.outline="none",Te(window,"keydown",rt))}function rt(){cn&&(cn.style.outline=un,cn=void 0,un=void 0,ze(window,"keydown",rt))}function lt(Aa,Oa){if(!Oa||!Aa.length)return Aa.slice();var Ma=Oa*Oa;return Aa=ct(Aa,Ma),Aa=pt(Aa,Ma),Aa}function dt(Aa,Oa,Ma){return _Mathsqrt(ht(Aa,Oa,Ma,!0))}function pt(Aa,Oa){var Ma=Aa.length,Ra=("undefined"==typeof Uint8Array?"undefined":T(Uint8Array))===void 0+""?Array:Uint8Array,Da=new Ra(Ma);Da[0]=Da[Ma-1]=1,mt(Aa,Da,Oa,0,Ma-1);var Na,ja=[];for(Na=0;Na<Ma;Na++)Da[Na]&&ja.push(Aa[Na]);return ja}function mt(Aa,Oa,Ma,Ra,Da){var ja,Wa,Ha,Na=0;for(Wa=Ra+1;Wa<=Da-1;Wa++)Ha=ht(Aa[Wa],Aa[Ra],Aa[Da],!0),Ha>Na&&(ja=Wa,Na=Ha);Na>Ma&&(Oa[ja]=1,mt(Aa,Oa,Ma,Ra,ja),mt(Aa,Oa,Ma,ja,Da))}function ct(Aa,Oa){for(var Ma=[Aa[0]],Ra=1,Da=0,Na=Aa.length;Ra<Na;Ra++)ft(Aa[Ra],Aa[Da])>Oa&&(Ma.push(Aa[Ra]),Da=Ra);return Da<Na-1&&Ma.push(Aa[Na-1]),Ma}function ut(Aa,Oa,Ma,Ra,Da){var Wa,Ha,Fa,Na=Ra?On:yt(Aa,Ma),ja=yt(Oa,Ma);for(On=ja;;){if(!(Na|ja))return[Aa,Oa];if(Na&ja)return!1;Wa=Na||ja,Ha=gt(Aa,Oa,Wa,Ma,Da),Fa=yt(Ha,Ma),Wa===Na?(Aa=Ha,Na=Fa):(Oa=Ha,ja=Fa)}}function gt(Aa,Oa,Ma,Ra,Da){var Fa,Ua,Na=Oa.x-Aa.x,ja=Oa.y-Aa.y,Wa=Ra.min,Ha=Ra.max;return 8&Ma?(Fa=Aa.x+Na*(Ha.y-Aa.y)/ja,Ua=Ha.y):4&Ma?(Fa=Aa.x+Na*(Wa.y-Aa.y)/ja,Ua=Wa.y):2&Ma?(Fa=Ha.x,Ua=Aa.y+ja*(Ha.x-Aa.x)/Na):1&Ma&&(Fa=Wa.x,Ua=Aa.y+ja*(Wa.x-Aa.x)/Na),new J(Fa,Ua,Da)}function yt(Aa,Oa){var Ma=0;return Aa.x<Oa.min.x?Ma|=1:Aa.x>Oa.max.x&&(Ma|=2),Aa.y<Oa.min.y?Ma|=4:Aa.y>Oa.max.y&&(Ma|=8),Ma}function ft(Aa,Oa){var Ma=Oa.x-Aa.x,Ra=Oa.y-Aa.y;return Ma*Ma+Ra*Ra}function ht(Aa,Oa,Ma,Ra){var Fa,Da=Oa.x,Na=Oa.y,ja=Ma.x-Da,Wa=Ma.y-Na,Ha=ja*ja+Wa*Wa;return 0<Ha&&(Fa=((Aa.x-Da)*ja+(Aa.y-Na)*Wa)/Ha,1<Fa?(Da=Ma.x,Na=Ma.y):0<Fa&&(Da+=ja*Fa,Na+=Wa*Fa)),ja=Aa.x-Da,Wa=Aa.y-Na,Ra?ja*ja+Wa*Wa:new J(Da,Na)}function vt(Aa){return!Xt(Aa[0])||"object"!==T(Aa[0][0])&&"undefined"!=typeof Aa[0][0]}function xt(Aa){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vt(Aa)}function Lt(Aa,Oa,Ma){var Ra,Na,ja,Wa,Ha,Fa,Ua,Va,Ka,Da=[1,4,2,8];for(Na=0,Ua=Aa.length;Na<Ua;Na++)Aa[Na]._code=yt(Aa[Na],Oa);for(Wa=0;4>Wa;Wa++){for(Va=Da[Wa],Ra=[],(Na=0,Ua=Aa.length,ja=Ua-1);Na<Ua;ja=Na++)Ha=Aa[Na],Fa=Aa[ja],Ha._code&Va?!(Fa._code&Va)&&(Ka=gt(Fa,Ha,Va,Oa,Ma),Ka._code=yt(Ka,Oa),Ra.push(Ka)):(Fa._code&Va&&(Ka=gt(Fa,Ha,Va,Oa,Ma),Ka._code=yt(Ka,Oa),Ra.push(Ka)),Ra.push(Ha));Aa=Ra}return Aa}function kt(Aa,Oa){var Wa,Ha,Fa,Ua,Ma="Feature"===Aa.type?Aa.geometry:Aa,Ra=Ma?Ma.coordinates:null,Da=[],Na=Oa&&Oa.pointToLayer,ja=Oa&&Oa.coordsToLatLng||Zt;if(!Ra&&!Ma)return null;switch(Ma.type){case"Point":return Wa=ja(Ra),Na?Na(Aa,Wa):new $n(Wa);case"MultiPoint":for(Fa=0,Ua=Ra.length;Fa<Ua;Fa++)Wa=ja(Ra[Fa]),Da.push(Na?Na(Aa,Wa):new $n(Wa));return new Gn(Da);case"LineString":case"MultiLineString":return Ha=St(Ra,"LineString"===Ma.type?0:1,ja),new oa(Ha,Oa);case"Polygon":case"MultiPolygon":return Ha=St(Ra,"Polygon"===Ma.type?1:2,ja),new na(Ha,Oa);case"GeometryCollection":for(Fa=0,Ua=Ma.geometries.length;Fa<Ua;Fa++){var Va=kt({geometry:Ma.geometries[Fa],type:"Feature",properties:Aa.properties},Oa);Va&&Da.push(Va)}return new Gn(Da);default:throw new Error("Invalid GeoJSON object.");}}function Zt(Aa){return new ae(Aa[1],Aa[0],Aa[2])}function St(Aa,Oa,Ma){for(var ja,Ra=[],Da=0,Na=Aa.length;Da<Na;Da++)ja=Oa?St(Aa[Da],Oa-1,Ma):(Ma||Zt)(Aa[Da]),Ra.push(ja);return Ra}function Et(Aa,Oa){return Oa="number"==typeof Oa?Oa:6,void 0===Aa.alt?[M(Aa.lng,Oa),M(Aa.lat,Oa)]:[M(Aa.lng,Oa),M(Aa.lat,Oa),M(Aa.alt,Oa)]}function Bt(Aa,Oa,Ma,Ra){for(var Da=[],Na=0,ja=Aa.length;Na<ja;Na++)Da.push(Oa?Bt(Aa[Na],Oa-1,Ma,Ra):Et(Aa[Na],Ra));return!Oa&&Ma&&Da.push(Da[0]),Da}function It(Aa,Oa){return Aa.feature?Z({},Aa.feature,{geometry:Oa}):At(Oa)}function At(Aa){return"Feature"===Aa.type||"FeatureCollection"===Aa.type?Aa:{type:"Feature",properties:{},geometry:Aa}}function Ot(Aa,Oa){return new aa(Aa,Oa)}function Nt(Aa,Oa){return new fa(Aa,Oa)}function Wt(Aa){return Do?new xa(Aa):null}function Ht(Aa){return No||jo?new Ta(Aa):null}var Kt=Object.freeze;Object.freeze=function(Aa){return Aa};var Gt=Object.create||function(){function Aa(){}return function(Oa){return Aa.prototype=Oa,new Aa}}(),qt=0,Yt=/\{ *([\w_\-]+) *\}/g,Xt=Array.isArray||function(Aa){return"[object Array]"===Object.prototype.toString.call(Aa)},Jt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",$t=0,Qt=window.requestAnimationFrame||V("RequestAnimationFrame")||K,eo=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(Aa){window.clearTimeout(Aa)},oo=(Object.freeze||Object)({freeze:Kt,extend:Z,create:Gt,bind:E,lastId:qt,stamp:B,throttle:I,wrapNum:A,falseFn:O,formatNum:M,trim:R,splitWords:D,setOptions:N,getParamString:W,template:H,isArray:Xt,indexOf:U,emptyImageUrl:Jt,requestFn:Qt,cancelFn:eo,requestAnimFrame:G,cancelAnimFrame:q});Y.extend=function(Aa){var Oa=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Ma=Oa.__super__=this.prototype,Ra=Gt(Ma);for(var Da in Ra.constructor=Oa,Oa.prototype=Ra,this)this.hasOwnProperty(Da)&&"prototype"!=Da&&"__super__"!=Da&&(Oa[Da]=this[Da]);return Aa.statics&&(Z(Oa,Aa.statics),delete Aa.statics),Aa.includes&&(X(Aa.includes),Z.apply(null,[Ra].concat(Aa.includes)),delete Aa.includes),Ra.options&&(Aa.options=Z(Gt(Ra.options),Aa.options)),Z(Ra,Aa),Ra._initHooks=[],Ra.callInitHooks=function(){if(!this._initHooksCalled){Ma.callInitHooks&&Ma.callInitHooks.call(this),this._initHooksCalled=!0;for(var Na=0,ja=Ra._initHooks.length;Na<ja;Na++)Ra._initHooks[Na].call(this)}},Oa},Y.include=function(Aa){return Z(this.prototype,Aa),this},Y.mergeOptions=function(Aa){return Z(this.prototype.options,Aa),this},Y.addInitHook=function(Aa){var Oa=Array.prototype.slice.call(arguments,1),Ma="function"==typeof Aa?Aa:function(){this[Aa].apply(this,Oa)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Ma),this};var no={on:function(Oa,Ma,Ra){if("object"===("undefined"==typeof Oa?"undefined":T(Oa)))for(var Da in Oa)this._on(Da,Oa[Da],Ma);else{Oa=D(Oa);for(var Na=0,ja=Oa.length;Na<ja;Na++)this._on(Oa[Na],Ma,Ra)}return this},off:function(Oa,Ma,Ra){if(!Oa)delete this._events;else if("object"===("undefined"==typeof Oa?"undefined":T(Oa)))for(var Da in Oa)this._off(Da,Oa[Da],Ma);else{Oa=D(Oa);for(var Na=0,ja=Oa.length;Na<ja;Na++)this._off(Oa[Na],Ma,Ra)}return this},_on:function(Oa,Ma,Ra){this._events=this._events||{};var Da=this._events[Oa];Da||(Da=[],this._events[Oa]=Da),Ra===this&&(Ra=void 0);for(var Na={fn:Ma,ctx:Ra},ja=Da,Wa=0,Ha=ja.length;Wa<Ha;Wa++)if(ja[Wa].fn===Ma&&ja[Wa].ctx===Ra)return;ja.push(Na)},_off:function(Oa,Ma,Ra){var Da,Na,ja;if(this._events&&(Da=this._events[Oa],!!Da)){if(!Ma){for(Na=0,ja=Da.length;Na<ja;Na++)Da[Na].fn=O;return void delete this._events[Oa]}if(Ra===this&&(Ra=void 0),Da)for(Na=0,ja=Da.length;Na<ja;Na++){var Wa=Da[Na];if(Wa.ctx===Ra&&Wa.fn===Ma)return Wa.fn=O,this._firingCount&&(this._events[Oa]=Da=Da.slice()),void Da.splice(Na,1)}}},fire:function(Oa,Ma,Ra){if(!this.listens(Oa,Ra))return this;var Da=Z({},Ma,{type:Oa,target:this});if(this._events){var Na=this._events[Oa];if(Na){this._firingCount=this._firingCount+1||1;for(var Ha,ja=0,Wa=Na.length;ja<Wa;ja++)Ha=Na[ja],Ha.fn.call(Ha.ctx||this,Da);this._firingCount--}}return Ra&&this._propagateEvent(Da),this},listens:function(Oa,Ma){var Ra=this._events&&this._events[Oa];if(Ra&&Ra.length)return!0;if(Ma)for(var Da in this._eventParents)if(this._eventParents[Da].listens(Oa,Ma))return!0;return!1},once:function(Oa,Ma,Ra){if("object"===("undefined"==typeof Oa?"undefined":T(Oa))){for(var Da in Oa)this.once(Da,Oa[Da],Ma);return this}var Na=E(function(){this.off(Oa,Ma,Ra).off(Oa,Na,Ra)},this);return this.on(Oa,Ma,Ra).on(Oa,Na,Ra)},addEventParent:function(Oa){return this._eventParents=this._eventParents||{},this._eventParents[B(Oa)]=Oa,this},removeEventParent:function(Oa){return this._eventParents&&delete this._eventParents[B(Oa)],this},_propagateEvent:function(Oa){for(var Ma in this._eventParents)this._eventParents[Ma].fire(Oa.type,Z({layer:Oa.target},Oa),!0)}};no.addEventListener=no.on,no.removeEventListener=no.clearAllEventListeners=no.off,no.addOneTimeEventListener=no.once,no.fireEvent=no.fire,no.hasEventListeners=no.listens;var ao=Y.extend(no);J.prototype={clone:function(){return new J(this.x,this.y)},add:function(Oa){return this.clone()._add($(Oa))},_add:function(Oa){return this.x+=Oa.x,this.y+=Oa.y,this},subtract:function(Oa){return this.clone()._subtract($(Oa))},_subtract:function(Oa){return this.x-=Oa.x,this.y-=Oa.y,this},divideBy:function(Oa){return this.clone()._divideBy(Oa)},_divideBy:function(Oa){return this.x/=Oa,this.y/=Oa,this},multiplyBy:function(Oa){return this.clone()._multiplyBy(Oa)},_multiplyBy:function(Oa){return this.x*=Oa,this.y*=Oa,this},scaleBy:function(Oa){return new J(this.x*Oa.x,this.y*Oa.y)},unscaleBy:function(Oa){return new J(this.x/Oa.x,this.y/Oa.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=_Mathround(this.x),this.y=_Mathround(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=_Mathfloor(this.x),this.y=_Mathfloor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=_Mathceil(this.x),this.y=_Mathceil(this.y),this},distanceTo:function(Oa){Oa=$(Oa);var Ma=Oa.x-this.x,Ra=Oa.y-this.y;return _Mathsqrt(Ma*Ma+Ra*Ra)},equals:function(Oa){return Oa=$(Oa),Oa.x===this.x&&Oa.y===this.y},contains:function(Oa){return Oa=$(Oa),_Mathabs(Oa.x)<=_Mathabs(this.x)&&_Mathabs(Oa.y)<=_Mathabs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}},Q.prototype={extend:function(Oa){return Oa=$(Oa),this.min||this.max?(this.min.x=_Mathmin(Oa.x,this.min.x),this.max.x=_Mathmax(Oa.x,this.max.x),this.min.y=_Mathmin(Oa.y,this.min.y),this.max.y=_Mathmax(Oa.y,this.max.y)):(this.min=Oa.clone(),this.max=Oa.clone()),this},getCenter:function(Oa){return new J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,Oa)},getBottomLeft:function(){return new J(this.min.x,this.max.y)},getTopRight:function(){return new J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(Oa){var Ma,Ra;return Oa="number"==typeof Oa[0]||Oa instanceof J?$(Oa):ee(Oa),Oa instanceof Q?(Ma=Oa.min,Ra=Oa.max):Ma=Ra=Oa,Ma.x>=this.min.x&&Ra.x<=this.max.x&&Ma.y>=this.min.y&&Ra.y<=this.max.y},intersects:function(Oa){Oa=ee(Oa);var Ma=this.min,Ra=this.max,Da=Oa.min,Na=Oa.max,ja=Na.x>=Ma.x&&Da.x<=Ra.x,Wa=Na.y>=Ma.y&&Da.y<=Ra.y;return ja&&Wa},overlaps:function(Oa){Oa=ee(Oa);var Ma=this.min,Ra=this.max,Da=Oa.min,Na=Oa.max,ja=Na.x>Ma.x&&Da.x<Ra.x,Wa=Na.y>Ma.y&&Da.y<Ra.y;return ja&&Wa},isValid:function(){return!!(this.min&&this.max)}},te.prototype={extend:function(Oa){var Da,Na,Ma=this._southWest,Ra=this._northEast;if(Oa instanceof ae)Da=Oa,Na=Oa;else{if(!(Oa instanceof te))return Oa?this.extend(re(Oa)||oe(Oa)):this;if(Da=Oa._southWest,Na=Oa._northEast,!Da||!Na)return this}return Ma||Ra?(Ma.lat=_Mathmin(Da.lat,Ma.lat),Ma.lng=_Mathmin(Da.lng,Ma.lng),Ra.lat=_Mathmax(Na.lat,Ra.lat),Ra.lng=_Mathmax(Na.lng,Ra.lng)):(this._southWest=new ae(Da.lat,Da.lng),this._northEast=new ae(Na.lat,Na.lng)),this},pad:function(Oa){var Ma=this._southWest,Ra=this._northEast,Da=_Mathabs(Ma.lat-Ra.lat)*Oa,Na=_Mathabs(Ma.lng-Ra.lng)*Oa;return new te(new ae(Ma.lat-Da,Ma.lng-Na),new ae(Ra.lat+Da,Ra.lng+Na))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(Oa){Oa="number"==typeof Oa[0]||Oa instanceof ae||"lat"in Oa?re(Oa):oe(Oa);var Da,Na,Ma=this._southWest,Ra=this._northEast;return Oa instanceof te?(Da=Oa.getSouthWest(),Na=Oa.getNorthEast()):Da=Na=Oa,Da.lat>=Ma.lat&&Na.lat<=Ra.lat&&Da.lng>=Ma.lng&&Na.lng<=Ra.lng},intersects:function(Oa){Oa=oe(Oa);var Ma=this._southWest,Ra=this._northEast,Da=Oa.getSouthWest(),Na=Oa.getNorthEast(),ja=Na.lat>=Ma.lat&&Da.lat<=Ra.lat,Wa=Na.lng>=Ma.lng&&Da.lng<=Ra.lng;return ja&&Wa},overlaps:function(Oa){Oa=oe(Oa);var Ma=this._southWest,Ra=this._northEast,Da=Oa.getSouthWest(),Na=Oa.getNorthEast(),ja=Na.lat>Ma.lat&&Da.lat<Ra.lat,Wa=Na.lng>Ma.lng&&Da.lng<Ra.lng;return ja&&Wa},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(Oa,Ma){return!!Oa&&(Oa=oe(Oa),this._southWest.equals(Oa.getSouthWest(),Ma)&&this._northEast.equals(Oa.getNorthEast(),Ma))},isValid:function(){return!!(this._southWest&&this._northEast)}},ae.prototype={equals:function(Oa,Ma){if(!Oa)return!1;Oa=re(Oa);var Ra=_Mathmax(_Mathabs(this.lat-Oa.lat),_Mathabs(this.lng-Oa.lng));return Ra<=(Ma===void 0?1e-9:Ma)},toString:function(Oa){return"LatLng("+M(this.lat,Oa)+", "+M(this.lng,Oa)+")"},distanceTo:function(Oa){return ro.distance(this,re(Oa))},wrap:function(){return ro.wrapLatLng(this)},toBounds:function(Oa){var Ma=180*Oa/40075017,Ra=Ma/_Mathcos(_MathPI/180*this.lat);return oe([this.lat-Ma,this.lng-Ra],[this.lat+Ma,this.lng+Ra])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};var io={latLngToPoint:function(Oa,Ma){var Ra=this.projection.project(Oa),Da=this.scale(Ma);return this.transformation._transform(Ra,Da)},pointToLatLng:function(Oa,Ma){var Ra=this.scale(Ma),Da=this.transformation.untransform(Oa,Ra);return this.projection.unproject(Da)},project:function(Oa){return this.projection.project(Oa)},unproject:function(Oa){return this.projection.unproject(Oa)},scale:function(Oa){return 256*_Mathpow(2,Oa)},zoom:function(Oa){return _Mathlog(Oa/256)/_MathLN},getProjectedBounds:function(Oa){if(this.infinite)return null;var Ma=this.projection.bounds,Ra=this.scale(Oa),Da=this.transformation.transform(Ma.min,Ra),Na=this.transformation.transform(Ma.max,Ra);return new Q(Da,Na)},infinite:!1,wrapLatLng:function(Oa){var Ma=this.wrapLng?A(Oa.lng,this.wrapLng,!0):Oa.lng,Ra=this.wrapLat?A(Oa.lat,this.wrapLat,!0):Oa.lat,Da=Oa.alt;return new ae(Ra,Ma,Da)},wrapLatLngBounds:function(Oa){var Ma=Oa.getCenter(),Ra=this.wrapLatLng(Ma),Da=Ma.lat-Ra.lat,Na=Ma.lng-Ra.lng;if(0==Da&&0==Na)return Oa;var ja=Oa.getSouthWest(),Wa=Oa.getNorthEast(),Ha=new ae(ja.lat-Da,ja.lng-Na),Fa=new ae(Wa.lat-Da,Wa.lng-Na);return new te(Ha,Fa)}},ro=Z({},io,{wrapLng:[-180,180],R:6371000,distance:function(Oa,Ma){var Ra=_MathPI/180,Da=Oa.lat*Ra,Na=Ma.lat*Ra,ja=_Mathsin(Da)*_Mathsin(Na)+_Mathcos(Da)*_Mathcos(Na)*_Mathcos((Ma.lng-Oa.lng)*Ra);return this.R*_Mathacos(_Mathmin(ja,1))}}),so={R:6378137,MAX_LATITUDE:85.0511287798,project:function(Oa){var Ma=_MathPI/180,Ra=this.MAX_LATITUDE,Da=_Mathmax(_Mathmin(Ra,Oa.lat),-Ra),Na=_Mathsin(Da*Ma);return new J(this.R*Oa.lng*Ma,this.R*_Mathlog((1+Na)/(1-Na))/2)},unproject:function(Oa){var Ma=180/_MathPI;return new ae((2*_Mathatan(_Mathexp(Oa.y/this.R))-_MathPI/2)*Ma,Oa.x*Ma/this.R)},bounds:function(){var Aa=6378137*_MathPI;return new Q([-Aa,-Aa],[Aa,Aa])}()};le.prototype={transform:function(Oa,Ma){return this._transform(Oa.clone(),Ma)},_transform:function(Oa,Ma){return Ma=Ma||1,Oa.x=Ma*(this._a*Oa.x+this._b),Oa.y=Ma*(this._c*Oa.y+this._d),Oa},untransform:function(Oa,Ma){return Ma=Ma||1,new J((Oa.x/Ma-this._b)/this._a,(Oa.y/Ma-this._d)/this._c)}};var lo=Z({},ro,{code:"EPSG:3857",projection:so,transformation:function(){var Aa=0.5/(_MathPI*so.R);return de(Aa,0.5,-Aa,0.5)}()}),_o=Z({},lo,{code:"EPSG:900913"}),po=document.documentElement.style,mo="ActiveXObject"in window,co=mo&&!document.addEventListener,uo="msLaunchUri"in navigator&&!("documentMode"in document),go=me("webkit"),yo=me("android"),fo=me("android 2")||me("android 3"),ho=!!window.opera,vo=me("chrome"),xo=me("gecko")&&!go&&!ho&&!mo,Lo=!vo&&me("safari"),Po=me("phantom"),bo="OTransition"in po,To=0===navigator.platform.indexOf("Win"),zo=mo&&"transition"in po,wo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fo,Co="MozPerspective"in po,ko=!window.L_DISABLE_3D&&(zo||wo||Co)&&!bo&&!Po,Zo="undefined"!=typeof orientation||me("mobile"),Bo=!window.PointerEvent&&window.MSPointerEvent,Io=!!(window.PointerEvent||Bo),Ao=!window.L_NO_TOUCH&&(Io||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Oo=Zo&&ho,Ro=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Do=function(){return!!document.createElement("canvas").getContext}(),No=!!(document.createElementNS&&_e("svg").createSVGRect),jo=!No&&function(){try{var Aa=document.createElement("div");Aa.innerHTML="<v:shape adj=\"1\"/>";var Oa=Aa.firstChild;return Oa.style.behavior="url(#default#VML)",Oa&&"object"===T(Oa.adj)}catch(Ma){return!1}}(),Wo=(Object.freeze||Object)({ie:mo,ielt9:co,edge:uo,webkit:go,android:yo,android23:fo,opera:ho,chrome:vo,gecko:xo,safari:Lo,phantom:Po,opera12:bo,win:To,ie3d:zo,webkit3d:wo,gecko3d:Co,any3d:ko,mobile:Zo,mobileWebkit:Zo&&go,mobileWebkit3d:Zo&&wo,msPointer:Bo,pointer:Io,touch:Ao,mobileOpera:Oo,mobileGecko:Zo&&xo,retina:Ro,canvas:Do,svg:No,vml:jo}),Ho=Bo?"MSPointerDown":"pointerdown",Fo=Bo?"MSPointerMove":"pointermove",Uo=Bo?"MSPointerUp":"pointerup",Vo=Bo?"MSPointerCancel":"pointercancel",Ko=["INPUT","SELECT","OPTION"],Go={},qo=!1,Yo=0,Xo=Bo?"MSPointerDown":Io?"pointerdown":"touchstart",Jo=Bo?"MSPointerUp":Io?"pointerup":"touchend",$o="_leaflet_",Qo="_leaflet_events",en=To&&vo?2*window.devicePixelRatio:xo?window.devicePixelRatio:1,tn={},nn,an=(Object.freeze||Object)({on:Te,off:ze,stopPropagation:ke,disableScrollPropagation:Ze,disableClickPropagation:Se,preventDefault:Ee,stop:Be,getMousePosition:Ie,getWheelDelta:Ae,fakeStop:Oe,skipped:Me,isExternalTarget:Re,addListener:Te,removeListener:ze}),rn=Qe(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),sn=Qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ln="webkitTransition"===sn||"OTransition"===sn?sn+"End":"transitionend",dn,_n,pn;if("onselectstart"in document)dn=function(){Te(window,"selectstart",Ee)},_n=function(){ze(window,"selectstart",Ee)};else{var mn=Qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(mn){var Oa=document.documentElement.style;pn=Oa[mn],Oa[mn]="none"}},_n=function(){mn&&(document.documentElement.style[mn]=pn,pn=void 0)}}var cn,un,gn=(Object.freeze||Object)({TRANSFORM:rn,TRANSITION:sn,TRANSITION_END:ln,get:Ne,getStyle:je,create:We,remove:He,empty:Fe,toFront:Ue,toBack:Ve,hasClass:Ke,addClass:Ge,removeClass:qe,setClass:Ye,getClass:Xe,setOpacity:Je,testProp:Qe,setTransform:et,setPosition:tt,getPosition:ot,disableTextSelection:dn,enableTextSelection:_n,disableImageDrag:nt,enableImageDrag:at,preventOutline:it,restoreOutline:rt}),yn=ao.extend({run:function(Oa,Ma,Ra,Da){this.stop(),this._el=Oa,this._inProgress=!0,this._duration=Ra||0.25,this._easeOutPower=1/_Mathmax(Da||0.5,0.2),this._startPos=ot(Oa),this._offset=Ma.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(Oa){var Ma=+new Date-this._startTime,Ra=1e3*this._duration;Ma<Ra?this._runFrame(this._easeOut(Ma/Ra),Oa):(this._runFrame(1),this._complete())},_runFrame:function(Oa,Ma){var Ra=this._startPos.add(this._offset.multiplyBy(Oa));Ma&&Ra._round(),tt(this._el,Ra),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(Oa){return 1-_Mathpow(1-Oa,this._easeOutPower)}}),hn=ao.extend({options:{crs:lo,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(Oa,Ma){Ma=N(this,Ma),this._initContainer(Oa),this._initLayout(),this._onResize=E(this._onResize,this),this._initEvents(),Ma.maxBounds&&this.setMaxBounds(Ma.maxBounds),Ma.zoom!==void 0&&(this._zoom=this._limitZoom(Ma.zoom)),Ma.center&&Ma.zoom!==void 0&&this.setView(re(Ma.center),Ma.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=sn&&ko&&!Oo&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,ln,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(Oa,Ma,Ra){if(Ma=void 0===Ma?this._zoom:this._limitZoom(Ma),Oa=this._limitCenter(re(Oa),Ma,this.options.maxBounds),Ra=Ra||{},this._stop(),this._loaded&&!Ra.reset&&!0!==Ra){void 0!==Ra.animate&&(Ra.zoom=Z({animate:Ra.animate},Ra.zoom),Ra.pan=Z({animate:Ra.animate,duration:Ra.duration},Ra.pan));var Da=this._zoom===Ma?this._tryAnimatedPan(Oa,Ra.pan):this._tryAnimatedZoom&&this._tryAnimatedZoom(Oa,Ma,Ra.zoom);if(Da)return clearTimeout(this._sizeTimer),this}return this._resetView(Oa,Ma),this},setZoom:function(Oa,Ma){return this._loaded?this.setView(this.getCenter(),Oa,{zoom:Ma}):(this._zoom=Oa,this)},zoomIn:function(Oa,Ma){return Oa=Oa||(ko?this.options.zoomDelta:1),this.setZoom(this._zoom+Oa,Ma)},zoomOut:function(Oa,Ma){return Oa=Oa||(ko?this.options.zoomDelta:1),this.setZoom(this._zoom-Oa,Ma)},setZoomAround:function(Oa,Ma,Ra){var Da=this.getZoomScale(Ma),Na=this.getSize().divideBy(2),ja=Oa instanceof J?Oa:this.latLngToContainerPoint(Oa),Wa=ja.subtract(Na).multiplyBy(1-1/Da),Ha=this.containerPointToLatLng(Na.add(Wa));return this.setView(Ha,Ma,{zoom:Ra})},_getBoundsCenterZoom:function(Oa,Ma){Ma=Ma||{},Oa=Oa.getBounds?Oa.getBounds():oe(Oa);var Ra=$(Ma.paddingTopLeft||Ma.padding||[0,0]),Da=$(Ma.paddingBottomRight||Ma.padding||[0,0]),Na=this.getBoundsZoom(Oa,!1,Ra.add(Da));if(Na="number"==typeof Ma.maxZoom?_Mathmin(Ma.maxZoom,Na):Na,Na===Infinity)return{center:Oa.getCenter(),zoom:Na};var ja=Da.subtract(Ra).divideBy(2),Wa=this.project(Oa.getSouthWest(),Na),Ha=this.project(Oa.getNorthEast(),Na),Fa=this.unproject(Wa.add(Ha).divideBy(2).add(ja),Na);return{center:Fa,zoom:Na}},fitBounds:function(Oa,Ma){if(Oa=oe(Oa),!Oa.isValid())throw new Error("Bounds are not valid.");var Ra=this._getBoundsCenterZoom(Oa,Ma);return this.setView(Ra.center,Ra.zoom,Ma)},fitWorld:function(Oa){return this.fitBounds([[-90,-180],[90,180]],Oa)},panTo:function(Oa,Ma){return this.setView(Oa,this._zoom,{pan:Ma})},panBy:function(Oa,Ma){if(Oa=$(Oa).round(),Ma=Ma||{},!Oa.x&&!Oa.y)return this.fire("moveend");if(!0!==Ma.animate&&!this.getSize().contains(Oa))return this._resetView(this.unproject(this.project(this.getCenter()).add(Oa)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Ma.noMoveStart||this.fire("movestart"),!1!==Ma.animate){Ge(this._mapPane,"leaflet-pan-anim");var Ra=this._getMapPanePos().subtract(Oa).round();this._panAnim.run(this._mapPane,Ra,Ma.duration||0.25,Ma.easeLinearity)}else this._rawPanBy(Oa),this.fire("move").fire("moveend");return this},flyTo:function(Oa,Ma,Ra){function Da(ii){var ri=ii?-1:1,si=ii?Ja:Xa,_i=(Ja*Ja-Xa*Xa+ri*ei*ei*$a*$a)/(2*si*ei*$a),pi=_Mathsqrt(_i*_i+1)-_i,mi=1e-9>pi?-18:_Mathlog(pi);return mi}function Na(ii){return(_Mathexp(ii)-_Mathexp(-ii))/2}function ja(ii){return(_Mathexp(ii)+_Mathexp(-ii))/2}function Wa(ii){return Na(ii)/ja(ii)}function Ha(ii){return Xa*(ja(ti)/ja(ti+Qa*ii))}function Fa(ii){return Xa*(ja(ti)*Wa(ti+Qa*ii)-Na(ti))/ei}function Ua(ii){return 1-_Mathpow(1-ii,1.5)}function Va(){var ii=(Date.now()-oi)/ai,ri=Ua(ii)*ni;1>=ii?(this._flyToFrame=G(Va,this),this._move(this.unproject(Ka.add(Ga.subtract(Ka).multiplyBy(Fa(ri)/$a)),Ya),this.getScaleZoom(Xa/Ha(ri),Ya),{flyTo:!0})):this._move(Oa,Ma)._moveEnd(!0)}if(Ra=Ra||{},!1===Ra.animate||!ko)return this.setView(Oa,Ma,Ra);this._stop();var Ka=this.project(this.getCenter()),Ga=this.project(Oa),qa=this.getSize(),Ya=this._zoom;Oa=re(Oa),Ma=void 0===Ma?Ya:Ma;var Xa=_Mathmax(qa.x,qa.y),Ja=Xa*this.getZoomScale(Ya,Ma),$a=Ga.distanceTo(Ka)||1,Qa=1.42,ei=Qa*Qa,ti=Da(0),oi=Date.now(),ni=(Da(1)-ti)/Qa,ai=Ra.duration?1e3*Ra.duration:0.8*(1e3*ni);return this._moveStart(!0),Va.call(this),this},flyToBounds:function(Oa,Ma){var Ra=this._getBoundsCenterZoom(Oa,Ma);return this.flyTo(Ra.center,Ra.zoom,Ma)},setMaxBounds:function(Oa){return(Oa=oe(Oa),!Oa.isValid())?(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds)):(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=Oa,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds))},setMinZoom:function(Oa){return this.options.minZoom=Oa,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(Oa):this},setMaxZoom:function(Oa){return this.options.maxZoom=Oa,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(Oa):this},panInsideBounds:function(Oa,Ma){this._enforcingBounds=!0;var Ra=this.getCenter(),Da=this._limitCenter(Ra,this._zoom,oe(Oa));return Ra.equals(Da)||this.panTo(Da,Ma),this._enforcingBounds=!1,this},invalidateSize:function(Oa){if(!this._loaded)return this;Oa=Z({animate:!1,pan:!0},!0===Oa?{animate:!0}:Oa);var Ma=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Ra=this.getSize(),Da=Ma.divideBy(2).round(),Na=Ra.divideBy(2).round(),ja=Da.subtract(Na);return ja.x||ja.y?(Oa.animate&&Oa.pan?this.panBy(ja):(Oa.pan&&this._rawPanBy(ja),this.fire("move"),Oa.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(E(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Ma,newSize:Ra})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(Oa){if(Oa=this._locateOptions=Z({timeout:1e4,watch:!1},Oa),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Ma=E(this._handleGeolocationResponse,this),Ra=E(this._handleGeolocationError,this);return Oa.watch?this._locationWatchId=navigator.geolocation.watchPosition(Ma,Ra,Oa):navigator.geolocation.getCurrentPosition(Ma,Ra,Oa),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(Oa){var Ma=Oa.code,Ra=Oa.message||(1===Ma?"permission denied":2===Ma?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Ma,message:"Geolocation error: "+Ra+"."})},_handleGeolocationResponse:function(Oa){var Ma=Oa.coords.latitude,Ra=Oa.coords.longitude,Da=new ae(Ma,Ra),Na=Da.toBounds(Oa.coords.accuracy),ja=this._locateOptions;if(ja.setView){var Wa=this.getBoundsZoom(Na);this.setView(Da,ja.maxZoom?_Mathmin(Wa,ja.maxZoom):Wa)}var Ha={latlng:Da,bounds:Na,timestamp:Oa.timestamp};for(var Fa in Oa.coords)"number"==typeof Oa.coords[Fa]&&(Ha[Fa]=Oa.coords[Fa]);this.fire("locationfound",Ha)},addHandler:function(Oa,Ma){if(!Ma)return this;var Ra=this[Oa]=new Ma(this);return this._handlers.push(Ra),this.options[Oa]&&Ra.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(Ma){this._container._leaflet_id=void 0,this._containerId=void 0}He(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var Oa in this._layers)this._layers[Oa].remove();for(Oa in this._panes)He(this._panes[Oa]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(Oa,Ma){var Ra="leaflet-pane"+(Oa?" leaflet-"+Oa.replace("Pane","")+"-pane":""),Da=We("div",Ra,Ma||this._mapPane);return Oa&&(this._panes[Oa]=Da),Da},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var Oa=this.getPixelBounds(),Ma=this.unproject(Oa.getBottomLeft()),Ra=this.unproject(Oa.getTopRight());return new te(Ma,Ra)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Oa,Ma,Ra){Oa=oe(Oa),Ra=$(Ra||[0,0]);var Da=this.getZoom()||0,Na=this.getMinZoom(),ja=this.getMaxZoom(),Wa=Oa.getNorthWest(),Ha=Oa.getSouthEast(),Fa=this.getSize().subtract(Ra),Ua=ee(this.project(Ha,Da),this.project(Wa,Da)).getSize(),Va=ko?this.options.zoomSnap:1,Ka=Fa.x/Ua.x,Ga=Fa.y/Ua.y,qa=Ma?_Mathmax(Ka,Ga):_Mathmin(Ka,Ga);return Da=this.getScaleZoom(qa,Da),Va&&(Da=_Mathround(Da/(Va/100))*(Va/100),Da=Ma?_Mathceil(Da/Va)*Va:_Mathfloor(Da/Va)*Va),_Mathmax(Na,_Mathmin(ja,Da))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(Oa,Ma){var Ra=this._getTopLeftPoint(Oa,Ma);return new Q(Ra,Ra.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(Oa){return this.options.crs.getProjectedBounds(Oa===void 0?this.getZoom():Oa)},getPane:function(Oa){return"string"==typeof Oa?this._panes[Oa]:Oa},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(Oa,Ma){var Ra=this.options.crs;return Ma=void 0===Ma?this._zoom:Ma,Ra.scale(Oa)/Ra.scale(Ma)},getScaleZoom:function(Oa,Ma){var Ra=this.options.crs;Ma=Ma===void 0?this._zoom:Ma;var Da=Ra.zoom(Oa*Ra.scale(Ma));return isNaN(Da)?Infinity:Da},project:function(Oa,Ma){return Ma=void 0===Ma?this._zoom:Ma,this.options.crs.latLngToPoint(re(Oa),Ma)},unproject:function(Oa,Ma){return Ma=void 0===Ma?this._zoom:Ma,this.options.crs.pointToLatLng($(Oa),Ma)},layerPointToLatLng:function(Oa){var Ma=$(Oa).add(this.getPixelOrigin());return this.unproject(Ma)},latLngToLayerPoint:function(Oa){var Ma=this.project(re(Oa))._round();return Ma._subtract(this.getPixelOrigin())},wrapLatLng:function(Oa){return this.options.crs.wrapLatLng(re(Oa))},wrapLatLngBounds:function(Oa){return this.options.crs.wrapLatLngBounds(oe(Oa))},distance:function(Oa,Ma){return this.options.crs.distance(re(Oa),re(Ma))},containerPointToLayerPoint:function(Oa){return $(Oa).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(Oa){return $(Oa).add(this._getMapPanePos())},containerPointToLatLng:function(Oa){var Ma=this.containerPointToLayerPoint($(Oa));return this.layerPointToLatLng(Ma)},latLngToContainerPoint:function(Oa){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(Oa)))},mouseEventToContainerPoint:function(Oa){return Ie(Oa,this._container)},mouseEventToLayerPoint:function(Oa){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(Oa))},mouseEventToLatLng:function(Oa){return this.layerPointToLatLng(this.mouseEventToLayerPoint(Oa))},_initContainer:function(Oa){var Ma=this._container=Ne(Oa);if(!Ma)throw new Error("Map container not found.");else if(Ma._leaflet_id)throw new Error("Map container is already initialized.");Te(Ma,"scroll",this._onScroll,this),this._containerId=B(Ma)},_initLayout:function(){var Oa=this._container;this._fadeAnimated=this.options.fadeAnimation&&ko,Ge(Oa,"leaflet-container"+(Ao?" leaflet-touch":"")+(Ro?" leaflet-retina":"")+(co?" leaflet-oldie":"")+(Lo?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Ma=je(Oa,"position");"absolute"!==Ma&&"relative"!==Ma&&"fixed"!==Ma&&(Oa.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var Oa=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tt(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ge(Oa.markerPane,"leaflet-zoom-hide"),Ge(Oa.shadowPane,"leaflet-zoom-hide"))},_resetView:function(Oa,Ma){tt(this._mapPane,new J(0,0));var Ra=!this._loaded;this._loaded=!0,Ma=this._limitZoom(Ma),this.fire("viewprereset");var Da=this._zoom!==Ma;this._moveStart(Da)._move(Oa,Ma)._moveEnd(Da),this.fire("viewreset"),Ra&&this.fire("load")},_moveStart:function(Oa){return Oa&&this.fire("zoomstart"),this.fire("movestart")},_move:function(Oa,Ma,Ra){void 0===Ma&&(Ma=this._zoom);var Da=this._zoom!==Ma;return this._zoom=Ma,this._lastCenter=Oa,this._pixelOrigin=this._getNewPixelOrigin(Oa),(Da||Ra&&Ra.pinch)&&this.fire("zoom",Ra),this.fire("move",Ra)},_moveEnd:function(Oa){return Oa&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(Oa){tt(this._mapPane,this._getMapPanePos().subtract(Oa))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(Oa){this._targets={},this._targets[B(this._container)]=this;var Ma=Oa?ze:Te;Ma(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&Ma(window,"resize",this._onResize,this),ko&&this.options.transform3DLimit&&(Oa?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var Oa=this._getMapPanePos();_Mathmax(_Mathabs(Oa.x),_Mathabs(Oa.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(Oa,Ma){for(var Da,Ra=[],Na="mouseout"===Ma||"mouseover"===Ma,ja=Oa.target||Oa.srcElement,Wa=!1;ja;){if(Da=this._targets[B(ja)],Da&&("click"===Ma||"preclick"===Ma)&&!Oa._simulated&&this._draggableMoved(Da)){Wa=!0;break}if(Da&&Da.listens(Ma,!0)){if(Na&&!Re(ja,Oa))break;if(Ra.push(Da),Na)break}if(ja===this._container)break;ja=ja.parentNode}return Ra.length||Wa||Na||!Re(ja,Oa)||(Ra=[this]),Ra},_handleDOMEvent:function(Oa){if(this._loaded&&!Me(Oa)){var Ma=Oa.type;("mousedown"===Ma||"keypress"===Ma)&&it(Oa.target||Oa.srcElement),this._fireDOMEvent(Oa,Ma)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(Oa,Ma,Ra){if("click"===Oa.type){var Da=Z({},Oa);Da.type="preclick",this._fireDOMEvent(Da,Da.type,Ra)}if(!Oa._stopped&&(Ra=(Ra||[]).concat(this._findEventTargets(Oa,Ma)),!!Ra.length)){var Na=Ra[0];"contextmenu"===Ma&&Na.listens(Ma,!0)&&Ee(Oa);var ja={originalEvent:Oa};if("keypress"!==Oa.type){var Wa=Na.options&&"icon"in Na.options;ja.containerPoint=Wa?this.latLngToContainerPoint(Na.getLatLng()):this.mouseEventToContainerPoint(Oa),ja.layerPoint=this.containerPointToLayerPoint(ja.containerPoint),ja.latlng=Wa?Na.getLatLng():this.layerPointToLatLng(ja.layerPoint)}for(var Ha=0;Ha<Ra.length;Ha++)if(Ra[Ha].fire(Ma,ja,!0),ja.originalEvent._stopped||!1===Ra[Ha].options.bubblingMouseEvents&&-1!==U(this._mouseEvents,Ma))return}},_draggableMoved:function(Oa){return Oa=Oa.dragging&&Oa.dragging.enabled()?Oa:this,Oa.dragging&&Oa.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var Oa=0,Ma=this._handlers.length;Oa<Ma;Oa++)this._handlers[Oa].disable()},whenReady:function(Oa,Ma){return this._loaded?Oa.call(Ma||this,{target:this}):this.on("load",Oa,Ma),this},_getMapPanePos:function(){return ot(this._mapPane)||new J(0,0)},_moved:function(){var Oa=this._getMapPanePos();return Oa&&!Oa.equals([0,0])},_getTopLeftPoint:function(Oa,Ma){var Ra=Oa&&Ma!==void 0?this._getNewPixelOrigin(Oa,Ma):this.getPixelOrigin();return Ra.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(Oa,Ma){var Ra=this.getSize()._divideBy(2);return this.project(Oa,Ma)._subtract(Ra)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(Oa,Ma,Ra){var Da=this._getNewPixelOrigin(Ra,Ma);return this.project(Oa,Ma)._subtract(Da)},_latLngBoundsToNewLayerBounds:function(Oa,Ma,Ra){var Da=this._getNewPixelOrigin(Ra,Ma);return ee([this.project(Oa.getSouthWest(),Ma)._subtract(Da),this.project(Oa.getNorthWest(),Ma)._subtract(Da),this.project(Oa.getSouthEast(),Ma)._subtract(Da),this.project(Oa.getNorthEast(),Ma)._subtract(Da)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(Oa){return this.latLngToLayerPoint(Oa).subtract(this._getCenterLayerPoint())},_limitCenter:function(Oa,Ma,Ra){if(!Ra)return Oa;var Da=this.project(Oa,Ma),Na=this.getSize().divideBy(2),ja=new Q(Da.subtract(Na),Da.add(Na)),Wa=this._getBoundsOffset(ja,Ra,Ma);return Wa.round().equals([0,0])?Oa:this.unproject(Da.add(Wa),Ma)},_limitOffset:function(Oa,Ma){if(!Ma)return Oa;var Ra=this.getPixelBounds(),Da=new Q(Ra.min.add(Oa),Ra.max.add(Oa));return Oa.add(this._getBoundsOffset(Da,Ma))},_getBoundsOffset:function(Oa,Ma,Ra){var Da=ee(this.project(Ma.getNorthEast(),Ra),this.project(Ma.getSouthWest(),Ra)),Na=Da.min.subtract(Oa.min),ja=Da.max.subtract(Oa.max),Wa=this._rebound(Na.x,-ja.x),Ha=this._rebound(Na.y,-ja.y);return new J(Wa,Ha)},_rebound:function(Oa,Ma){return 0<Oa+Ma?_Mathround(Oa-Ma)/2:_Mathmax(0,_Mathceil(Oa))-_Mathmax(0,_Mathfloor(Ma))},_limitZoom:function(Oa){var Ma=this.getMinZoom(),Ra=this.getMaxZoom(),Da=ko?this.options.zoomSnap:1;return Da&&(Oa=_Mathround(Oa/Da)*Da),_Mathmax(Ma,_Mathmin(Ra,Oa))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(Oa,Ma){var Ra=this._getCenterOffset(Oa)._floor();return(!0===(Ma&&Ma.animate)||this.getSize().contains(Ra))&&(this.panBy(Ra,Ma),!0)},_createAnimProxy:function(){var Oa=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(Oa),this.on("zoomanim",function(Ma){var Ra=rn,Da=this._proxy.style[Ra];et(this._proxy,this.project(Ma.center,Ma.zoom),this.getZoomScale(Ma.zoom,1)),Da===this._proxy.style[Ra]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var Ma=this.getCenter(),Ra=this.getZoom();et(this._proxy,this.project(Ma,Ra),this.getZoomScale(Ra,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){He(this._proxy),delete this._proxy},_catchTransitionEnd:function(Oa){this._animatingZoom&&0<=Oa.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(Oa,Ma,Ra){if(this._animatingZoom)return!0;if(Ra=Ra||{},!this._zoomAnimated||!1===Ra.animate||this._nothingToAnimate()||_Mathabs(Ma-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Da=this.getZoomScale(Ma),Na=this._getCenterOffset(Oa)._divideBy(1-1/Da);return(!0===Ra.animate||this.getSize().contains(Na))&&(G(function(){this._moveStart(!0)._animateZoom(Oa,Ma,!0)},this),!0)},_animateZoom:function(Oa,Ma,Ra,Da){Ra&&(this._animatingZoom=!0,this._animateToCenter=Oa,this._animateToZoom=Ma,Ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:Oa,zoom:Ma,noUpdate:Da}),setTimeout(E(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),G(function(){this._moveEnd(!0)},this))}}),vn=Y.extend({options:{position:"topright"},initialize:function(Oa){N(this,Oa)},getPosition:function(){return this.options.position},setPosition:function(Oa){var Ma=this._map;return Ma&&Ma.removeControl(this),this.options.position=Oa,Ma&&Ma.addControl(this),this},getContainer:function(){return this._container},addTo:function(Oa){this.remove(),this._map=Oa;var Ma=this._container=this.onAdd(Oa),Ra=this.getPosition(),Da=Oa._controlCorners[Ra];return Ge(Ma,"leaflet-control"),-1===Ra.indexOf("bottom")?Da.appendChild(Ma):Da.insertBefore(Ma,Da.firstChild),this},remove:function(){return this._map?(He(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(Oa){this._map&&Oa&&0<Oa.screenX&&0<Oa.screenY&&this._map.getContainer().focus()}}),xn=function(Oa){return new vn(Oa)};hn.include({addControl:function(Oa){return Oa.addTo(this),this},removeControl:function(Oa){return Oa.remove(),this},_initControlPos:function(){function Oa(Na,ja){Ma[Na+ja]=We("div",Ra+Na+" "+Ra+ja,Da)}var Ma=this._controlCorners={},Ra="leaflet-",Da=this._controlContainer=We("div",Ra+"control-container",this._container);Oa("top","left"),Oa("top","right"),Oa("bottom","left"),Oa("bottom","right")},_clearControlPos:function(){for(var Oa in this._controlCorners)He(this._controlCorners[Oa]);He(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ln=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(Oa,Ma,Ra,Da){return Ra<Da?-1:Da<Ra?1:0}},initialize:function(Oa,Ma,Ra){for(var Da in N(this,Ra),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,Oa)this._addLayer(Oa[Da],Da);for(Da in Ma)this._addLayer(Ma[Da],Da,!0)},onAdd:function(Oa){this._initLayout(),this._update(),this._map=Oa,Oa.on("zoomend",this._checkDisabledLayers,this);for(var Ma=0;Ma<this._layers.length;Ma++)this._layers[Ma].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(Oa){return vn.prototype.addTo.call(this,Oa),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var Oa=0;Oa<this._layers.length;Oa++)this._layers[Oa].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(Oa,Ma){return this._addLayer(Oa,Ma),this._map?this._update():this},addOverlay:function(Oa,Ma){return this._addLayer(Oa,Ma,!0),this._map?this._update():this},removeLayer:function(Oa){Oa.off("add remove",this._onLayerChange,this);var Ma=this._getLayer(B(Oa));return Ma&&this._layers.splice(this._layers.indexOf(Ma),1),this._map?this._update():this},expand:function(){Ge(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var Oa=this._map.getSize().y-(this._container.offsetTop+50);return Oa<this._form.clientHeight?(Ge(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=Oa+"px"):qe(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var Oa="leaflet-control-layers",Ma=this._container=We("div",Oa),Ra=this.options.collapsed;Ma.setAttribute("aria-haspopup",!0),Se(Ma),Ze(Ma);var Da=this._form=We("form",Oa+"-list");Ra&&(this._map.on("click",this.collapse,this),!yo&&Te(Ma,{mouseenter:this.expand,mouseleave:this.collapse},this));var Na=this._layersLink=We("a",Oa+"-toggle",Ma);Na.href="#",Na.title="Layers",Ao?(Te(Na,"click",Be),Te(Na,"click",this.expand,this)):Te(Na,"focus",this.expand,this),Ra||this.expand(),this._baseLayersList=We("div",Oa+"-base",Da),this._separator=We("div",Oa+"-separator",Da),this._overlaysList=We("div",Oa+"-overlays",Da),Ma.appendChild(Da)},_getLayer:function(Oa){for(var Ma=0;Ma<this._layers.length;Ma++)if(this._layers[Ma]&&B(this._layers[Ma].layer)===Oa)return this._layers[Ma]},_addLayer:function(Oa,Ma,Ra){this._map&&Oa.on("add remove",this._onLayerChange,this),this._layers.push({layer:Oa,name:Ma,overlay:Ra}),this.options.sortLayers&&this._layers.sort(E(function(Da,Na){return this.options.sortFunction(Da.layer,Na.layer,Da.name,Na.name)},this)),this.options.autoZIndex&&Oa.setZIndex&&(this._lastZIndex++,Oa.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fe(this._baseLayersList),Fe(this._overlaysList),this._layerControlInputs=[];var Oa,Ma,Ra,Da,Na=0;for(Ra=0;Ra<this._layers.length;Ra++)Da=this._layers[Ra],this._addItem(Da),Ma=Ma||Da.overlay,Oa=Oa||!Da.overlay,Na+=Da.overlay?0:1;return this.options.hideSingleBase&&(Oa=Oa&&1<Na,this._baseLayersList.style.display=Oa?"":"none"),this._separator.style.display=Ma&&Oa?"":"none",this},_onLayerChange:function(Oa){this._handlingClick||this._update();var Ma=this._getLayer(B(Oa.target)),Ra=Ma.overlay?"add"===Oa.type?"overlayadd":"overlayremove":"add"===Oa.type?"baselayerchange":null;Ra&&this._map.fire(Ra,Ma)},_createRadioElement:function(Oa,Ma){var Ra="<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\""+Oa+"\""+(Ma?" checked=\"checked\"":"")+"/>",Da=document.createElement("div");return Da.innerHTML=Ra,Da.firstChild},_addItem:function(Oa){var Da,Ma=document.createElement("label"),Ra=this._map.hasLayer(Oa.layer);Oa.overlay?(Da=document.createElement("input"),Da.type="checkbox",Da.className="leaflet-control-layers-selector",Da.defaultChecked=Ra):Da=this._createRadioElement("leaflet-base-layers",Ra),this._layerControlInputs.push(Da),Da.layerId=B(Oa.layer),Te(Da,"click",this._onInputClick,this);var Na=document.createElement("span");Na.innerHTML=" "+Oa.name;var ja=document.createElement("div");Ma.appendChild(ja),ja.appendChild(Da),ja.appendChild(Na);var Wa=Oa.overlay?this._overlaysList:this._baseLayersList;return Wa.appendChild(Ma),this._checkDisabledLayers(),Ma},_onInputClick:function(){var Ma,Ra,Oa=this._layerControlInputs,Da=[],Na=[];this._handlingClick=!0;for(var ja=Oa.length-1;0<=ja;ja--)Ma=Oa[ja],Ra=this._getLayer(Ma.layerId).layer,Ma.checked?Da.push(Ra):!Ma.checked&&Na.push(Ra);for(ja=0;ja<Na.length;ja++)this._map.hasLayer(Na[ja])&&this._map.removeLayer(Na[ja]);for(ja=0;ja<Da.length;ja++)this._map.hasLayer(Da[ja])||this._map.addLayer(Da[ja]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var Ma,Ra,Oa=this._layerControlInputs,Da=this._map.getZoom(),Na=Oa.length-1;0<=Na;Na--)Ma=Oa[Na],Ra=this._getLayer(Ma.layerId).layer,Ma.disabled=void 0!==Ra.options.minZoom&&Da<Ra.options.minZoom||void 0!==Ra.options.maxZoom&&Da>Ra.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),bn=vn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(Oa){var Ma="leaflet-control-zoom",Ra=We("div",Ma+" leaflet-bar"),Da=this.options;return this._zoomInButton=this._createButton(Da.zoomInText,Da.zoomInTitle,Ma+"-in",Ra,this._zoomIn),this._zoomOutButton=this._createButton(Da.zoomOutText,Da.zoomOutTitle,Ma+"-out",Ra,this._zoomOut),this._updateDisabled(),Oa.on("zoomend zoomlevelschange",this._updateDisabled,this),Ra},onRemove:function(Oa){Oa.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(Oa){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(Oa.shiftKey?3:1))},_zoomOut:function(Oa){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(Oa.shiftKey?3:1))},_createButton:function(Oa,Ma,Ra,Da,Na){var ja=We("a",Ra,Da);return ja.innerHTML=Oa,ja.href="#",ja.title=Ma,ja.setAttribute("role","button"),ja.setAttribute("aria-label",Ma),Se(ja),Te(ja,"click",Be),Te(ja,"click",Na,this),Te(ja,"click",this._refocusOnMap,this),ja},_updateDisabled:function(){var Oa=this._map,Ma="leaflet-disabled";qe(this._zoomInButton,Ma),qe(this._zoomOutButton,Ma),(this._disabled||Oa._zoom===Oa.getMinZoom())&&Ge(this._zoomOutButton,Ma),(this._disabled||Oa._zoom===Oa.getMaxZoom())&&Ge(this._zoomInButton,Ma)}});hn.mergeOptions({zoomControl:!0}),hn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bn,this.addControl(this.zoomControl))});var zn=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(Oa){var Ma="leaflet-control-scale",Ra=We("div",Ma),Da=this.options;return this._addScales(Da,Ma+"-line",Ra),Oa.on(Da.updateWhenIdle?"moveend":"move",this._update,this),Oa.whenReady(this._update,this),Ra},onRemove:function(Oa){Oa.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(Oa,Ma,Ra){Oa.metric&&(this._mScale=We("div",Ma,Ra)),Oa.imperial&&(this._iScale=We("div",Ma,Ra))},_update:function(){var Oa=this._map,Ma=Oa.getSize().y/2,Ra=Oa.distance(Oa.containerPointToLatLng([0,Ma]),Oa.containerPointToLatLng([this.options.maxWidth,Ma]));this._updateScales(Ra)},_updateScales:function(Oa){this.options.metric&&Oa&&this._updateMetric(Oa),this.options.imperial&&Oa&&this._updateImperial(Oa)},_updateMetric:function(Oa){var Ma=this._getRoundNum(Oa),Ra=1e3>Ma?Ma+" m":Ma/1e3+" km";this._updateScale(this._mScale,Ra,Ma/Oa)},_updateImperial:function(Oa){var Ra,Da,Na,Ma=3.2808399*Oa;5280<Ma?(Ra=Ma/5280,Da=this._getRoundNum(Ra),this._updateScale(this._iScale,Da+" mi",Da/Ra)):(Na=this._getRoundNum(Ma),this._updateScale(this._iScale,Na+" ft",Na/Ma))},_updateScale:function(Oa,Ma,Ra){Oa.style.width=_Mathround(this.options.maxWidth*Ra)+"px",Oa.innerHTML=Ma},_getRoundNum:function(Oa){var Ma=_Mathpow(10,(_Mathfloor(Oa)+"").length-1),Ra=Oa/Ma;return Ra=10<=Ra?10:5<=Ra?5:3<=Ra?3:2<=Ra?2:1,Ma*Ra}}),Cn=vn.extend({options:{position:"bottomright",prefix:"<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>"},initialize:function(Oa){N(this,Oa),this._attributions={}},onAdd:function(Oa){for(var Ma in Oa.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Se(this._container),Oa._layers)Oa._layers[Ma].getAttribution&&this.addAttribution(Oa._layers[Ma].getAttribution());return this._update(),this._container},setPrefix:function(Oa){return this.options.prefix=Oa,this._update(),this},addAttribution:function(Oa){return Oa?(this._attributions[Oa]||(this._attributions[Oa]=0),this._attributions[Oa]++,this._update(),this):this},removeAttribution:function(Oa){return Oa?(this._attributions[Oa]&&(this._attributions[Oa]--,this._update()),this):this},_update:function(){if(this._map){var Oa=[];for(var Ma in this._attributions)this._attributions[Ma]&&Oa.push(Ma);var Ra=[];this.options.prefix&&Ra.push(this.options.prefix),Oa.length&&Ra.push(Oa.join(", ")),this._container.innerHTML=Ra.join(" | ")}}});hn.mergeOptions({attributionControl:!0}),hn.addInitHook(function(){this.options.attributionControl&&new Cn().addTo(this)});vn.Layers=Ln,vn.Zoom=bn,vn.Scale=zn,vn.Attribution=Cn,xn.layers=function(Oa,Ma,Ra){return new Ln(Oa,Ma,Ra)},xn.zoom=function(Oa){return new bn(Oa)},xn.scale=function(Oa){return new zn(Oa)},xn.attribution=function(Oa){return new Cn(Oa)};var Zn=Y.extend({initialize:function(Oa){this._map=Oa},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),En=Ao?"touchstart mousedown":"mousedown",Bn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},In={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},An=ao.extend({options:{clickTolerance:3},initialize:function(Oa,Ma,Ra,Da){N(this,Da),this._element=Oa,this._dragStartTarget=Ma||Oa,this._preventOutline=Ra},enable:function(){this._enabled||(Te(this._dragStartTarget,En,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(An._dragging===this&&this.finishDrag(),ze(this._dragStartTarget,En,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(Oa){if(!Oa._simulated&&this._enabled&&(this._moved=!1,!Ke(this._element,"leaflet-zoom-anim"))&&!(An._dragging||Oa.shiftKey||1!==Oa.which&&1!==Oa.button&&!Oa.touches)&&(An._dragging=this,this._preventOutline&&it(this._element),nt(),dn(),!this._moving)){this.fire("down");var Ma=Oa.touches?Oa.touches[0]:Oa;this._startPoint=new J(Ma.clientX,Ma.clientY),Te(document,In[Oa.type],this._onMove,this),Te(document,Bn[Oa.type],this._onUp,this)}},_onMove:function(Oa){if(!Oa._simulated&&this._enabled){if(Oa.touches&&1<Oa.touches.length)return void(this._moved=!0);var Ma=Oa.touches&&1===Oa.touches.length?Oa.touches[0]:Oa,Ra=new J(Ma.clientX,Ma.clientY),Da=Ra.subtract(this._startPoint);(Da.x||Da.y)&&!(_Mathabs(Da.x)+_Mathabs(Da.y)<this.options.clickTolerance)&&(Ee(Oa),!this._moved&&(this.fire("dragstart"),this._moved=!0,this._startPos=ot(this._element).subtract(Da),Ge(document.body,"leaflet-dragging"),this._lastTarget=Oa.target||Oa.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Da),this._moving=!0,q(this._animRequest),this._lastEvent=Oa,this._animRequest=G(this._updatePosition,this,!0))}},_updatePosition:function(){var Oa={originalEvent:this._lastEvent};this.fire("predrag",Oa),tt(this._element,this._newPos),this.fire("drag",Oa)},_onUp:function(Oa){Oa._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var Oa in qe(document.body,"leaflet-dragging"),this._lastTarget&&(qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),In)ze(document,In[Oa],this._onMove,this),ze(document,Bn[Oa],this._onUp,this);at(),_n(),this._moved&&this._moving&&(q(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,An._dragging=!1}}),On,Mn=(Object.freeze||Object)({simplify:lt,pointToSegmentDistance:dt,closestPointOnSegment:function(Aa,Oa,Ma){return ht(Aa,Oa,Ma)},clipSegment:ut,_getEdgeIntersection:gt,_getBitCode:yt,_sqClosestPointOnSegment:ht,isFlat:vt,_flat:xt}),Rn=(Object.freeze||Object)({clipPolygon:Lt}),Dn={project:function(Oa){return new J(Oa.lng,Oa.lat)},unproject:function(Oa){return new ae(Oa.y,Oa.x)},bounds:new Q([-180,-90],[180,90])},Nn={R:6378137,R_MINOR:6356752.314245179,bounds:new Q([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(Oa){var Ma=_MathPI/180,Ra=this.R,Da=Oa.lat*Ma,Na=this.R_MINOR/Ra,ja=_Mathsqrt(1-Na*Na),Wa=ja*_Mathsin(Da),Ha=Math.tan(_MathPI/4-Da/2)/_Mathpow((1-Wa)/(1+Wa),ja/2);return Da=-Ra*_Mathlog(_Mathmax(Ha,1e-10)),new J(Oa.lng*Ma*Ra,Da)},unproject:function(Oa){for(var Ua,Ma=180/_MathPI,Ra=this.R,Da=this.R_MINOR/Ra,Na=_Mathsqrt(1-Da*Da),ja=_Mathexp(-Oa.y/Ra),Wa=_MathPI/2-2*_Mathatan(ja),Ha=0,Fa=0.1;15>Ha&&1e-7<_Mathabs(Fa);Ha++)Ua=Na*_Mathsin(Wa),Ua=_Mathpow((1-Ua)/(1+Ua),Na/2),Fa=_MathPI/2-2*_Mathatan(ja*Ua)-Wa,Wa+=Fa;return new ae(Wa*Ma,Oa.x*Ma/Ra)}},jn=(Object.freeze||Object)({LonLat:Dn,Mercator:Nn,SphericalMercator:so}),Wn=Z({},ro,{code:"EPSG:3395",projection:Nn,transformation:function(){var Aa=0.5/(_MathPI*Nn.R);return de(Aa,0.5,-Aa,0.5)}()}),Hn=Z({},ro,{code:"EPSG:4326",projection:Dn,transformation:de(1/180,1,-1/180,0.5)}),Fn=Z({},io,{projection:Dn,transformation:de(1,0,-1,0),scale:function(Oa){return _Mathpow(2,Oa)},zoom:function(Oa){return _Mathlog(Oa)/_MathLN},distance:function(Oa,Ma){var Ra=Ma.lng-Oa.lng,Da=Ma.lat-Oa.lat;return _Mathsqrt(Ra*Ra+Da*Da)},infinite:!0});io.Earth=ro,io.EPSG3395=Wn,io.EPSG3857=lo,io.EPSG900913=_o,io.EPSG4326=Hn,io.Simple=Fn;var Un=ao.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(Oa){return Oa.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(Oa){return Oa&&Oa.removeLayer(this),this},getPane:function(Oa){return this._map.getPane(Oa?this.options[Oa]||Oa:this.options.pane)},addInteractiveTarget:function(Oa){return this._map._targets[B(Oa)]=this,this},removeInteractiveTarget:function(Oa){return delete this._map._targets[B(Oa)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(Oa){var Ma=Oa.target;if(Ma.hasLayer(this)){if(this._map=Ma,this._zoomAnimated=Ma._zoomAnimated,this.getEvents){var Ra=this.getEvents();Ma.on(Ra,this),this.once("remove",function(){Ma.off(Ra,this)},this)}this.onAdd(Ma),this.getAttribution&&Ma.attributionControl&&Ma.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),Ma.fire("layeradd",{layer:this})}}});hn.include({addLayer:function(Oa){if(!Oa._layerAdd)throw new Error("The provided object is not a Layer.");var Ma=B(Oa);return this._layers[Ma]?this:(this._layers[Ma]=Oa,Oa._mapToAdd=this,Oa.beforeAdd&&Oa.beforeAdd(this),this.whenReady(Oa._layerAdd,Oa),this)},removeLayer:function(Oa){var Ma=B(Oa);return this._layers[Ma]?(this._loaded&&Oa.onRemove(this),Oa.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(Oa.getAttribution()),delete this._layers[Ma],this._loaded&&(this.fire("layerremove",{layer:Oa}),Oa.fire("remove")),Oa._map=Oa._mapToAdd=null,this):this},hasLayer:function(Oa){return!!Oa&&B(Oa)in this._layers},eachLayer:function(Oa,Ma){for(var Ra in this._layers)Oa.call(Ma,this._layers[Ra]);return this},_addLayers:function(Oa){Oa=Oa?Xt(Oa)?Oa:[Oa]:[];for(var Ma=0,Ra=Oa.length;Ma<Ra;Ma++)this.addLayer(Oa[Ma])},_addZoomLimit:function(Oa){(isNaN(Oa.options.maxZoom)||!isNaN(Oa.options.minZoom))&&(this._zoomBoundLayers[B(Oa)]=Oa,this._updateZoomLevels())},_removeZoomLimit:function(Oa){var Ma=B(Oa);this._zoomBoundLayers[Ma]&&(delete this._zoomBoundLayers[Ma],this._updateZoomLevels())},_updateZoomLevels:function(){var Oa=Infinity,Ma=-Infinity,Ra=this._getZoomSpan();for(var Da in this._zoomBoundLayers){var Na=this._zoomBoundLayers[Da].options;Oa=Na.minZoom===void 0?Oa:_Mathmin(Oa,Na.minZoom),Ma=Na.maxZoom===void 0?Ma:_Mathmax(Ma,Na.maxZoom)}this._layersMaxZoom=Ma===-Infinity?void 0:Ma,this._layersMinZoom=Oa===Infinity?void 0:Oa,Ra!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vn=Un.extend({initialize:function(Oa){this._layers={};var Ma,Ra;if(Oa)for(Ma=0,Ra=Oa.length;Ma<Ra;Ma++)this.addLayer(Oa[Ma])},addLayer:function(Oa){var Ma=this.getLayerId(Oa);return this._layers[Ma]=Oa,this._map&&this._map.addLayer(Oa),this},removeLayer:function(Oa){var Ma=Oa in this._layers?Oa:this.getLayerId(Oa);return this._map&&this._layers[Ma]&&this._map.removeLayer(this._layers[Ma]),delete this._layers[Ma],this},hasLayer:function(Oa){return!!Oa&&(Oa in this._layers||this.getLayerId(Oa)in this._layers)},clearLayers:function(){for(var Oa in this._layers)this.removeLayer(this._layers[Oa]);return this},invoke:function(Oa){var Ra,Da,Ma=Array.prototype.slice.call(arguments,1);for(Ra in this._layers)Da=this._layers[Ra],Da[Oa]&&Da[Oa].apply(Da,Ma);return this},onAdd:function(Oa){for(var Ma in this._layers)Oa.addLayer(this._layers[Ma])},onRemove:function(Oa){for(var Ma in this._layers)Oa.removeLayer(this._layers[Ma])},eachLayer:function(Oa,Ma){for(var Ra in this._layers)Oa.call(Ma,this._layers[Ra]);return this},getLayer:function(Oa){return this._layers[Oa]},getLayers:function(){var Oa=[];for(var Ma in this._layers)Oa.push(this._layers[Ma]);return Oa},setZIndex:function(Oa){return this.invoke("setZIndex",Oa)},getLayerId:function(Oa){return B(Oa)}}),Gn=Vn.extend({addLayer:function(Oa){return this.hasLayer(Oa)?this:(Oa.addEventParent(this),Vn.prototype.addLayer.call(this,Oa),this.fire("layeradd",{layer:Oa}))},removeLayer:function(Oa){return this.hasLayer(Oa)?(Oa in this._layers&&(Oa=this._layers[Oa]),Oa.removeEventParent(this),Vn.prototype.removeLayer.call(this,Oa),this.fire("layerremove",{layer:Oa})):this},setStyle:function(Oa){return this.invoke("setStyle",Oa)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var Oa=new te;for(var Ma in this._layers){var Ra=this._layers[Ma];Oa.extend(Ra.getBounds?Ra.getBounds():Ra.getLatLng())}return Oa}}),Yn=Y.extend({initialize:function(Oa){N(this,Oa)},createIcon:function(Oa){return this._createIcon("icon",Oa)},createShadow:function(Oa){return this._createIcon("shadow",Oa)},_createIcon:function(Oa,Ma){var Ra=this._getIconUrl(Oa);if(!Ra){if("icon"===Oa)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Da=this._createImg(Ra,Ma&&"IMG"===Ma.tagName?Ma:null);return this._setIconStyles(Da,Oa),Da},_setIconStyles:function(Oa,Ma){var Ra=this.options,Da=Ra[Ma+"Size"];"number"==typeof Da&&(Da=[Da,Da]);var Na=$(Da),ja=$("shadow"===Ma&&Ra.shadowAnchor||Ra.iconAnchor||Na&&Na.divideBy(2,!0));Oa.className="leaflet-marker-"+Ma+" "+(Ra.className||""),ja&&(Oa.style.marginLeft=-ja.x+"px",Oa.style.marginTop=-ja.y+"px"),Na&&(Oa.style.width=Na.x+"px",Oa.style.height=Na.y+"px")},_createImg:function(Oa,Ma){return Ma=Ma||document.createElement("img"),Ma.src=Oa,Ma},_getIconUrl:function(Oa){return Ro&&this.options[Oa+"RetinaUrl"]||this.options[Oa+"Url"]}}),Xn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(Oa){return Xn.imagePath||(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+Yn.prototype._getIconUrl.call(this,Oa)},_detectIconPath:function(){var Oa=We("div","leaflet-default-icon-path",document.body),Ma=je(Oa,"background-image")||je(Oa,"backgroundImage");return document.body.removeChild(Oa),Ma=null===Ma||0!==Ma.indexOf("url")?"":Ma.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""),Ma}}),Jn=Zn.extend({initialize:function(Oa){this._marker=Oa},addHooks:function(){var Oa=this._marker._icon;this._draggable||(this._draggable=new An(Oa,Oa,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ge(Oa,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(Oa){var Ma=this._marker,Ra=Ma._shadow,Da=ot(Ma._icon),Na=Ma._map.layerPointToLatLng(Da);Ra&&tt(Ra,Da),Ma._latlng=Na,Oa.latlng=Na,Oa.oldLatLng=this._oldLatLng,Ma.fire("move",Oa).fire("drag",Oa)},_onDragEnd:function(Oa){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",Oa)}}),$n=Un.extend({options:{icon:new Xn,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(Oa,Ma){N(this,Ma),this._latlng=re(Oa)},onAdd:function(Oa){this._zoomAnimated=this._zoomAnimated&&Oa.options.markerZoomAnimation,this._zoomAnimated&&Oa.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(Oa){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&Oa.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(Oa){var Ma=this._latlng;return this._latlng=re(Oa),this.update(),this.fire("move",{oldLatLng:Ma,latlng:this._latlng})},setZIndexOffset:function(Oa){return this.options.zIndexOffset=Oa,this.update()},setIcon:function(Oa){return this.options.icon=Oa,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var Oa=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(Oa)}return this},_initIcon:function(){var Oa=this.options,Ma="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Ra=Oa.icon.createIcon(this._icon),Da=!1;Ra!==this._icon&&(this._icon&&this._removeIcon(),Da=!0,Oa.title&&(Ra.title=Oa.title),Oa.alt&&(Ra.alt=Oa.alt)),Ge(Ra,Ma),Oa.keyboard&&(Ra.tabIndex="0"),this._icon=Ra,Oa.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var Na=Oa.icon.createShadow(this._shadow),ja=!1;Na!==this._shadow&&(this._removeShadow(),ja=!0),Na&&(Ge(Na,Ma),Na.alt=""),this._shadow=Na,1>Oa.opacity&&this._updateOpacity(),Da&&this.getPane().appendChild(this._icon),this._initInteraction(),Na&&ja&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),He(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&He(this._shadow),this._shadow=null},_setPos:function(Oa){tt(this._icon,Oa),this._shadow&&tt(this._shadow,Oa),this._zIndex=Oa.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(Oa){this._icon.style.zIndex=this._zIndex+Oa},_animateZoom:function(Oa){var Ma=this._map._latLngToNewLayerPoint(this._latlng,Oa.zoom,Oa.center).round();this._setPos(Ma)},_initInteraction:function(){if(this.options.interactive&&(Ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jn)){var Oa=this.options.draggable;this.dragging&&(Oa=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jn(this),Oa&&this.dragging.enable()}},setOpacity:function(Oa){return this.options.opacity=Oa,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var Oa=this.options.opacity;Je(this._icon,Oa),this._shadow&&Je(this._shadow,Oa)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),Qn=Un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:0.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(Oa){this._renderer=Oa.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(Oa){return N(this,Oa),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(Ao?10:0)}}),ea=Qn.extend({options:{fill:!0,radius:10},initialize:function(Oa,Ma){N(this,Ma),this._latlng=re(Oa),this._radius=this.options.radius},setLatLng:function(Oa){return this._latlng=re(Oa),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(Oa){return this.options.radius=this._radius=Oa,this.redraw()},getRadius:function(){return this._radius},setStyle:function(Oa){var Ma=Oa&&Oa.radius||this._radius;return Qn.prototype.setStyle.call(this,Oa),this.setRadius(Ma),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var Oa=this._radius,Ma=this._radiusY||Oa,Ra=this._clickTolerance(),Da=[Oa+Ra,Ma+Ra];this._pxBounds=new Q(this._point.subtract(Da),this._point.add(Da))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(Oa){return Oa.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),ta=ea.extend({initialize:function(Oa,Ma,Ra){if("number"==typeof Ma&&(Ma=Z({},Ra,{radius:Ma})),N(this,Ma),this._latlng=re(Oa),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(Oa){return this._mRadius=Oa,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var Oa=[this._radius,this._radiusY||this._radius];return new te(this._map.layerPointToLatLng(this._point.subtract(Oa)),this._map.layerPointToLatLng(this._point.add(Oa)))},setStyle:Qn.prototype.setStyle,_project:function(){var Oa=this._latlng.lng,Ma=this._latlng.lat,Ra=this._map,Da=Ra.options.crs;if(Da.distance===ro.distance){var Na=_MathPI/180,ja=this._mRadius/ro.R/Na,Wa=Ra.project([Ma+ja,Oa]),Ha=Ra.project([Ma-ja,Oa]),Fa=Wa.add(Ha).divideBy(2),Ua=Ra.unproject(Fa).lat,Va=_Mathacos((_Mathcos(ja*Na)-_Mathsin(Ma*Na)*_Mathsin(Ua*Na))/(_Mathcos(Ma*Na)*_Mathcos(Ua*Na)))/Na;(isNaN(Va)||0==Va)&&(Va=ja/_Mathcos(_MathPI/180*Ma)),this._point=Fa.subtract(Ra.getPixelOrigin()),this._radius=isNaN(Va)?0:_Mathmax(_Mathround(Fa.x-Ra.project([Ua,Oa-Va]).x),1),this._radiusY=_Mathmax(_Mathround(Fa.y-Wa.y),1)}else{var Ka=Da.unproject(Da.project(this._latlng).subtract([this._mRadius,0]));this._point=Ra.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Ra.latLngToLayerPoint(Ka).x}this._updateBounds()}}),oa=Qn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(Oa,Ma){N(this,Ma),this._setLatLngs(Oa)},getLatLngs:function(){return this._latlngs},setLatLngs:function(Oa){return this._setLatLngs(Oa),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(Oa){for(var Na,ja,Fa,Ma=Infinity,Ra=null,Da=ht,Wa=0,Ha=this._parts.length;Wa<Ha;Wa++){Fa=this._parts[Wa];for(var Ua=1,Va=Fa.length;Ua<Va;Ua++){Na=Fa[Ua-1],ja=Fa[Ua];var Ka=Da(Oa,Na,ja,!0);Ka<Ma&&(Ma=Ka,Ra=Da(Oa,Na,ja))}}return Ra&&(Ra.distance=_Mathsqrt(Ma)),Ra},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var Oa,Ma,Ra,Da,Na,ja,Wa,Ha=this._rings[0],Fa=Ha.length;if(!Fa)return null;for(Oa=0,Ma=0;Oa<Fa-1;Oa++)Ma+=Ha[Oa].distanceTo(Ha[Oa+1])/2;if(0===Ma)return this._map.layerPointToLatLng(Ha[0]);for(Oa=0,Da=0;Oa<Fa-1;Oa++)if(Na=Ha[Oa],ja=Ha[Oa+1],Ra=Na.distanceTo(ja),Da+=Ra,Da>Ma)return Wa=(Da-Ma)/Ra,this._map.layerPointToLatLng([ja.x-Wa*(ja.x-Na.x),ja.y-Wa*(ja.y-Na.y)])},getBounds:function(){return this._bounds},addLatLng:function(Oa,Ma){return Ma=Ma||this._defaultShape(),Oa=re(Oa),Ma.push(Oa),this._bounds.extend(Oa),this.redraw()},_setLatLngs:function(Oa){this._bounds=new te,this._latlngs=this._convertLatLngs(Oa)},_defaultShape:function(){return vt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(Oa){for(var Ma=[],Ra=vt(Oa),Da=0,Na=Oa.length;Da<Na;Da++)Ra?(Ma[Da]=re(Oa[Da]),this._bounds.extend(Ma[Da])):Ma[Da]=this._convertLatLngs(Oa[Da]);return Ma},_project:function(){var Oa=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,Oa);var Ma=this._clickTolerance(),Ra=new J(Ma,Ma);this._bounds.isValid()&&Oa.isValid()&&(Oa.min._subtract(Ra),Oa.max._add(Ra),this._pxBounds=Oa)},_projectLatlngs:function(Oa,Ma,Ra){var ja,Wa,Da=Oa[0]instanceof ae,Na=Oa.length;if(Da){for(Wa=[],ja=0;ja<Na;ja++)Wa[ja]=this._map.latLngToLayerPoint(Oa[ja]),Ra.extend(Wa[ja]);Ma.push(Wa)}else for(ja=0;ja<Na;ja++)this._projectLatlngs(Oa[ja],Ma,Ra)},_clipPoints:function(){var Oa=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(Oa)){if(this.options.noClip)return void(this._parts=this._rings);var Ra,Da,Na,ja,Wa,Ha,Fa,Ma=this._parts;for(Ra=0,Na=0,ja=this._rings.length;Ra<ja;Ra++)for(Fa=this._rings[Ra],Da=0,Wa=Fa.length;Da<Wa-1;Da++)(Ha=ut(Fa[Da],Fa[Da+1],Oa,Da,!0),!!Ha)&&(Ma[Na]=Ma[Na]||[],Ma[Na].push(Ha[0]),(Ha[1]!==Fa[Da+1]||Da===Wa-2)&&(Ma[Na].push(Ha[1]),Na++))}},_simplifyPoints:function(){for(var Oa=this._parts,Ma=this.options.smoothFactor,Ra=0,Da=Oa.length;Ra<Da;Ra++)Oa[Ra]=lt(Oa[Ra],Ma)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(Oa,Ma){var Ra,Da,Na,ja,Wa,Ha,Fa=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(Oa))return!1;for(Ra=0,ja=this._parts.length;Ra<ja;Ra++)for(Ha=this._parts[Ra],Da=0,Wa=Ha.length,Na=Wa-1;Da<Wa;Na=Da++)if((Ma||0!==Da)&&dt(Oa,Ha[Na],Ha[Da])<=Fa)return!0;return!1}});oa._flat=xt;var na=oa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var Oa,Ma,Ra,Da,Na,ja,Wa,Ha,Fa,Ua=this._rings[0],Va=Ua.length;if(!Va)return null;for(ja=Wa=Ha=0,Oa=0,Ma=Va-1;Oa<Va;Ma=Oa++)Ra=Ua[Oa],Da=Ua[Ma],Na=Ra.y*Da.x-Da.y*Ra.x,Wa+=(Ra.x+Da.x)*Na,Ha+=(Ra.y+Da.y)*Na,ja+=3*Na;return Fa=0===ja?Ua[0]:[Wa/ja,Ha/ja],this._map.layerPointToLatLng(Fa)},_convertLatLngs:function(Oa){var Ma=oa.prototype._convertLatLngs.call(this,Oa),Ra=Ma.length;return 2<=Ra&&Ma[0]instanceof ae&&Ma[0].equals(Ma[Ra-1])&&Ma.pop(),Ma},_setLatLngs:function(Oa){oa.prototype._setLatLngs.call(this,Oa),vt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var Oa=this._renderer._bounds,Ma=this.options.weight,Ra=new J(Ma,Ma);if(Oa=new Q(Oa.min.subtract(Ra),Oa.max.add(Ra)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(Oa)){if(this.options.noClip)return void(this._parts=this._rings);for(var ja,Da=0,Na=this._rings.length;Da<Na;Da++)ja=Lt(this._rings[Da],Oa,!0),ja.length&&this._parts.push(ja)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(Oa){var Ra,Da,Na,ja,Wa,Ha,Fa,Ua,Ma=!1;if(!this._pxBounds.contains(Oa))return!1;for(ja=0,Fa=this._parts.length;ja<Fa;ja++)for(Ra=this._parts[ja],Wa=0,Ua=Ra.length,Ha=Ua-1;Wa<Ua;Ha=Wa++)Da=Ra[Wa],Na=Ra[Ha],Da.y>Oa.y!=Na.y>Oa.y&&Oa.x<(Na.x-Da.x)*(Oa.y-Da.y)/(Na.y-Da.y)+Da.x&&(Ma=!Ma);return Ma||oa.prototype._containsPoint.call(this,Oa,!0)}}),aa=Gn.extend({initialize:function(Oa,Ma){N(this,Ma),this._layers={},Oa&&this.addData(Oa)},addData:function(Oa){var Ra,Da,Na,Ma=Xt(Oa)?Oa:Oa.features;if(Ma){for(Ra=0,Da=Ma.length;Ra<Da;Ra++)Na=Ma[Ra],(Na.geometries||Na.geometry||Na.features||Na.coordinates)&&this.addData(Na);return this}var ja=this.options;if(ja.filter&&!ja.filter(Oa))return this;var Wa=kt(Oa,ja);return Wa?(Wa.feature=At(Oa),Wa.defaultOptions=Wa.options,this.resetStyle(Wa),ja.onEachFeature&&ja.onEachFeature(Oa,Wa),this.addLayer(Wa)):this},resetStyle:function(Oa){return Oa.options=Z({},Oa.defaultOptions),this._setLayerStyle(Oa,this.options.style),this},setStyle:function(Oa){return this.eachLayer(function(Ma){this._setLayerStyle(Ma,Oa)},this)},_setLayerStyle:function(Oa,Ma){"function"==typeof Ma&&(Ma=Ma(Oa.feature)),Oa.setStyle&&Oa.setStyle(Ma)}}),ia={toGeoJSON:function(Oa){return It(this,{type:"Point",coordinates:Et(this.getLatLng(),Oa)})}};$n.include(ia),ta.include(ia),ea.include(ia),oa.include({toGeoJSON:function(Oa){var Ma=!vt(this._latlngs),Ra=Bt(this._latlngs,Ma?1:0,!1,Oa);return It(this,{type:(Ma?"Multi":"")+"LineString",coordinates:Ra})}}),na.include({toGeoJSON:function(Oa){var Ma=!vt(this._latlngs),Ra=Ma&&!vt(this._latlngs[0]),Da=Bt(this._latlngs,Ra?2:Ma?1:0,!0,Oa);return Ma||(Da=[Da]),It(this,{type:(Ra?"Multi":"")+"Polygon",coordinates:Da})}}),Vn.include({toMultiPoint:function(Oa){var Ma=[];return this.eachLayer(function(Ra){Ma.push(Ra.toGeoJSON(Oa).geometry.coordinates)}),It(this,{type:"MultiPoint",coordinates:Ma})},toGeoJSON:function(Oa){var Ma=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===Ma)return this.toMultiPoint(Oa);var Ra="GeometryCollection"===Ma,Da=[];return this.eachLayer(function(Na){if(Na.toGeoJSON){var ja=Na.toGeoJSON(Oa);if(Ra)Da.push(ja.geometry);else{var Wa=At(ja);"FeatureCollection"===Wa.type?Da.push.apply(Da,Wa.features):Da.push(Wa)}}}),Ra?It(this,{geometries:Da,type:"GeometryCollection"}):{type:"FeatureCollection",features:Da}}});var sa=Un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(Oa,Ma,Ra){this._url=Oa,this._bounds=oe(Ma),N(this,Ra)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity()),this.options.interactive&&(Ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){He(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(Oa){return this.options.opacity=Oa,this._image&&this._updateOpacity(),this},setStyle:function(Oa){return Oa.opacity&&this.setOpacity(Oa.opacity),this},bringToFront:function(){return this._map&&Ue(this._image),this},bringToBack:function(){return this._map&&Ve(this._image),this},setUrl:function(Oa){return this._url=Oa,this._image&&(this._image.src=Oa),this},setBounds:function(Oa){return this._bounds=oe(Oa),this._map&&this._reset(),this},getEvents:function(){var Oa={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(Oa.zoomanim=this._animateZoom),Oa},setZIndex:function(Oa){return this.options.zIndex=Oa,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var Oa=this._image=We("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));Oa.onselectstart=O,Oa.onmousemove=O,Oa.onload=E(this.fire,this,"load"),Oa.onerror=E(this._overlayOnError,this,"error"),this.options.crossOrigin&&(Oa.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),Oa.src=this._url,Oa.alt=this.options.alt},_animateZoom:function(Oa){var Ma=this._map.getZoomScale(Oa.zoom),Ra=this._map._latLngBoundsToNewLayerBounds(this._bounds,Oa.zoom,Oa.center).min;et(this._image,Ra,Ma)},_reset:function(){var Oa=this._image,Ma=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Ra=Ma.getSize();tt(Oa,Ma.min),Oa.style.width=Ra.x+"px",Oa.style.height=Ra.y+"px"},_updateOpacity:function(){Je(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var Oa=this.options.errorOverlayUrl;Oa&&this._url!==Oa&&(this._url=Oa,this._image.src=Oa)}}),da=sa.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var Oa="VIDEO"===this._url.tagName,Ma=this._image=Oa?this._url:We("video");if(Ma["class"]=Ma["class"]||"",Ma["class"]+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),Ma.onselectstart=O,Ma.onmousemove=O,Ma.onloadeddata=E(this.fire,this,"load"),!Oa){Xt(this._url)||(this._url=[this._url]),Ma.autoplay=!!this.options.autoplay,Ma.loop=!!this.options.loop;for(var Da,Ra=0;Ra<this._url.length;Ra++)Da=We("source"),Da.src=this._url[Ra],Ma.appendChild(Da)}}}),_a=Un.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(Oa,Ma){N(this,Oa),this._source=Ma},onAdd:function(Oa){this._zoomAnimated=Oa._zoomAnimated,this._container||this._initLayout(),Oa._fadeAnimated&&Je(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),Oa._fadeAnimated&&Je(this._container,1),this.bringToFront()},onRemove:function(Oa){Oa._fadeAnimated?(Je(this._container,0),this._removeTimeout=setTimeout(E(He,void 0,this._container),200)):He(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(Oa){return this._latlng=re(Oa),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(Oa){return this._content=Oa,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var Oa={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(Oa.zoomanim=this._animateZoom),Oa},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ue(this._container),this},bringToBack:function(){return this._map&&Ve(this._container),this},_updateContent:function(){if(this._content){var Oa=this._contentNode,Ma="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof Ma)Oa.innerHTML=Ma;else{for(;Oa.hasChildNodes();)Oa.removeChild(Oa.firstChild);Oa.appendChild(Ma)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var Oa=this._map.latLngToLayerPoint(this._latlng),Ma=$(this.options.offset),Ra=this._getAnchor();this._zoomAnimated?tt(this._container,Oa.add(Ra)):Ma=Ma.add(Oa).add(Ra);var Da=this._containerBottom=-Ma.y,Na=this._containerLeft=-_Mathround(this._containerWidth/2)+Ma.x;this._container.style.bottom=Da+"px",this._container.style.left=Na+"px"}},_getAnchor:function(){return[0,0]}}),pa=_a.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(Oa){return Oa.openPopup(this),this},onAdd:function(Oa){_a.prototype.onAdd.call(this,Oa),Oa.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof Qn)&&this._source.on("preclick",ke))},onRemove:function(Oa){_a.prototype.onRemove.call(this,Oa),Oa.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),!(this._source instanceof Qn)&&this._source.off("preclick",ke))},getEvents:function(){var Oa=_a.prototype.getEvents.call(this);return(void 0===this.options.closeOnClick?this._map.options.closePopupOnClick:this.options.closeOnClick)&&(Oa.preclick=this._close),this.options.keepInView&&(Oa.moveend=this._adjustPan),Oa},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var Oa="leaflet-popup",Ma=this._container=We("div",Oa+" "+(this.options.className||"")+" leaflet-zoom-animated"),Ra=this._wrapper=We("div",Oa+"-content-wrapper",Ma);if(this._contentNode=We("div",Oa+"-content",Ra),Se(Ra),Ze(this._contentNode),Te(Ra,"contextmenu",ke),this._tipContainer=We("div",Oa+"-tip-container",Ma),this._tip=We("div",Oa+"-tip",this._tipContainer),this.options.closeButton){var Da=this._closeButton=We("a",Oa+"-close-button",Ma);Da.href="#close",Da.innerHTML="&#215;",Te(Da,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var Oa=this._contentNode,Ma=Oa.style;Ma.width="",Ma.whiteSpace="nowrap";var Ra=Oa.offsetWidth;Ra=_Mathmin(Ra,this.options.maxWidth),Ra=_Mathmax(Ra,this.options.minWidth),Ma.width=Ra+1+"px",Ma.whiteSpace="",Ma.height="";var Da=Oa.offsetHeight,Na=this.options.maxHeight,ja="leaflet-popup-scrolled";Na&&Da>Na?(Ma.height=Na+"px",Ge(Oa,ja)):qe(Oa,ja),this._containerWidth=this._container.offsetWidth},_animateZoom:function(Oa){var Ma=this._map._latLngToNewLayerPoint(this._latlng,Oa.zoom,Oa.center),Ra=this._getAnchor();tt(this._container,Ma.add(Ra))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var Oa=this._map,Ma=parseInt(je(this._container,"marginBottom"),10)||0,Ra=this._container.offsetHeight+Ma,Da=this._containerWidth,Na=new J(this._containerLeft,-Ra-this._containerBottom);Na._add(ot(this._container));var ja=Oa.layerPointToContainerPoint(Na),Wa=$(this.options.autoPanPadding),Ha=$(this.options.autoPanPaddingTopLeft||Wa),Fa=$(this.options.autoPanPaddingBottomRight||Wa),Ua=Oa.getSize(),Va=0,Ka=0;ja.x+Da+Fa.x>Ua.x&&(Va=ja.x+Da-Ua.x+Fa.x),0>ja.x-Va-Ha.x&&(Va=ja.x-Ha.x),ja.y+Ra+Fa.y>Ua.y&&(Ka=ja.y+Ra-Ua.y+Fa.y),0>ja.y-Ka-Ha.y&&(Ka=ja.y-Ha.y),(Va||Ka)&&Oa.fire("autopanstart").panBy([Va,Ka])}},_onCloseButtonClick:function(Oa){this._close(),Be(Oa)},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});hn.mergeOptions({closePopupOnClick:!0}),hn.include({openPopup:function(Oa,Ma,Ra){return(Oa instanceof pa||(Oa=new pa(Ra).setContent(Oa)),Ma&&Oa.setLatLng(Ma),this.hasLayer(Oa))?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=Oa,this.addLayer(Oa))},closePopup:function(Oa){return Oa&&Oa!==this._popup||(Oa=this._popup,this._popup=null),Oa&&this.removeLayer(Oa),this}}),Un.include({bindPopup:function(Oa,Ma){return Oa instanceof pa?(N(Oa,Ma),this._popup=Oa,Oa._source=this):((!this._popup||Ma)&&(this._popup=new pa(Ma,this)),this._popup.setContent(Oa)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(Oa,Ma){if(Oa instanceof Un||(Ma=Oa,Oa=this),Oa instanceof Gn)for(var Ra in this._layers){Oa=this._layers[Ra];break}return Ma||(Ma=Oa.getCenter?Oa.getCenter():Oa.getLatLng()),this._popup&&this._map&&(this._popup._source=Oa,this._popup.update(),this._map.openPopup(this._popup,Ma)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(Oa){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(Oa)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(Oa){return this._popup&&this._popup.setContent(Oa),this},getPopup:function(){return this._popup},_openPopup:function(Oa){var Ma=Oa.layer||Oa.target;if(this._popup)return this._map?(Be(Oa),Ma instanceof Qn?void this.openPopup(Oa.layer||Oa.target,Oa.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===Ma?this.closePopup():this.openPopup(Ma,Oa.latlng))):void 0},_movePopup:function(Oa){this._popup.setLatLng(Oa.latlng)},_onKeyPress:function(Oa){13===Oa.originalEvent.keyCode&&this._openPopup(Oa)}});var ca=_a.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:0.9},onAdd:function(Oa){_a.prototype.onAdd.call(this,Oa),this.setOpacity(this.options.opacity),Oa.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(Oa){_a.prototype.onRemove.call(this,Oa),Oa.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var Oa=_a.prototype.getEvents.call(this);return Ao&&!this.options.permanent&&(Oa.preclick=this._close),Oa},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var Ma="leaflet-tooltip"+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",Ma)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(Oa){var Ma=this._map,Ra=this._container,Da=Ma.latLngToContainerPoint(Ma.getCenter()),Na=Ma.layerPointToContainerPoint(Oa),ja=this.options.direction,Wa=Ra.offsetWidth,Ha=Ra.offsetHeight,Fa=$(this.options.offset),Ua=this._getAnchor();"top"===ja?Oa=Oa.add($(-Wa/2+Fa.x,-Ha+Fa.y+Ua.y,!0)):"bottom"===ja?Oa=Oa.subtract($(Wa/2-Fa.x,-Fa.y,!0)):"center"===ja?Oa=Oa.subtract($(Wa/2+Fa.x,Ha/2-Ua.y+Fa.y,!0)):"right"===ja||"auto"===ja&&Na.x<Da.x?(ja="right",Oa=Oa.add($(Fa.x+Ua.x,Ua.y-Ha/2+Fa.y,!0))):(ja="left",Oa=Oa.subtract($(Wa+Ua.x-Fa.x,Ha/2-Ua.y-Fa.y,!0))),qe(Ra,"leaflet-tooltip-right"),qe(Ra,"leaflet-tooltip-left"),qe(Ra,"leaflet-tooltip-top"),qe(Ra,"leaflet-tooltip-bottom"),Ge(Ra,"leaflet-tooltip-"+ja),tt(Ra,Oa)},_updatePosition:function(){var Oa=this._map.latLngToLayerPoint(this._latlng);this._setPosition(Oa)},setOpacity:function(Oa){this.options.opacity=Oa,this._container&&Je(this._container,Oa)},_animateZoom:function(Oa){var Ma=this._map._latLngToNewLayerPoint(this._latlng,Oa.zoom,Oa.center);this._setPosition(Ma)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});hn.include({openTooltip:function(Oa,Ma,Ra){return Oa instanceof ca||(Oa=new ca(Ra).setContent(Oa)),Ma&&Oa.setLatLng(Ma),this.hasLayer(Oa)?this:this.addLayer(Oa)},closeTooltip:function(Oa){return Oa&&this.removeLayer(Oa),this}}),Un.include({bindTooltip:function(Oa,Ma){return Oa instanceof ca?(N(Oa,Ma),this._tooltip=Oa,Oa._source=this):((!this._tooltip||Ma)&&(this._tooltip=new ca(Ma,this)),this._tooltip.setContent(Oa)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(Oa){if(Oa||!this._tooltipHandlersAdded){var Ma=Oa?"off":"on",Ra={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Ra.add=this._openTooltip:(Ra.mouseover=this._openTooltip,Ra.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(Ra.mousemove=this._moveTooltip),Ao&&(Ra.click=this._openTooltip)),this[Ma](Ra),this._tooltipHandlersAdded=!Oa}},openTooltip:function(Oa,Ma){if(Oa instanceof Un||(Ma=Oa,Oa=this),Oa instanceof Gn)for(var Ra in this._layers){Oa=this._layers[Ra];break}return Ma||(Ma=Oa.getCenter?Oa.getCenter():Oa.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=Oa,this._tooltip.update(),this._map.openTooltip(this._tooltip,Ma),this._tooltip.options.interactive&&this._tooltip._container&&(Ge(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(qe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(Oa){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(Oa)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(Oa){return this._tooltip&&this._tooltip.setContent(Oa),this},getTooltip:function(){return this._tooltip},_openTooltip:function(Oa){var Ma=Oa.layer||Oa.target;this._tooltip&&this._map&&this.openTooltip(Ma,this._tooltip.options.sticky?Oa.latlng:void 0)},_moveTooltip:function(Oa){var Ra,Da,Ma=Oa.latlng;this._tooltip.options.sticky&&Oa.originalEvent&&(Ra=this._map.mouseEventToContainerPoint(Oa.originalEvent),Da=this._map.containerPointToLayerPoint(Ra),Ma=this._map.layerPointToLatLng(Da)),this._tooltip.setLatLng(Ma)}});var ga=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(Oa){var Ma=Oa&&"DIV"===Oa.tagName?Oa:document.createElement("div"),Ra=this.options;if(Ma.innerHTML=!1===Ra.html?"":Ra.html,Ra.bgPos){var Da=$(Ra.bgPos);Ma.style.backgroundPosition=-Da.x+"px "+-Da.y+"px"}return this._setIconStyles(Ma,"icon"),Ma},createShadow:function(){return null}});Yn.Default=Xn;var ya=Un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Zo,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(Oa){N(this,Oa)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(Oa){Oa._addZoomLimit(this)},onRemove:function(Oa){this._removeAllTiles(),He(this._container),Oa._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(Ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(Oa){return this.options.opacity=Oa,this._updateOpacity(),this},setZIndex:function(Oa){return this.options.zIndex=Oa,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var Oa={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(!this._onMove&&(this._onMove=I(this._onMoveEnd,this.options.updateInterval,this)),Oa.move=this._onMove),this._zoomAnimated&&(Oa.zoomanim=this._animateZoom),Oa},createTile:function(){return document.createElement("div")},getTileSize:function(){var Oa=this.options.tileSize;return Oa instanceof J?Oa:new J(Oa,Oa)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(Oa){for(var ja,Ma=this.getPane().children,Ra=-Oa(-Infinity,Infinity),Da=0,Na=Ma.length;Da<Na;Da++)ja=Ma[Da].style.zIndex,Ma[Da]!==this._container&&ja&&(Ra=Oa(Ra,+ja));isFinite(Ra)&&(this.options.zIndex=Ra+Oa(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!co){Je(this._container,this.options.opacity);var Oa=+new Date,Ma=!1,Ra=!1;for(var Da in this._tiles){var Na=this._tiles[Da];if(Na.current&&Na.loaded){var ja=_Mathmin(1,(Oa-Na.loaded)/200);Je(Na.el,ja),1>ja?Ma=!0:(Na.active?Ra=!0:this._onOpaqueTile(Na),Na.active=!0)}}Ra&&!this._noPrune&&this._pruneTiles(),Ma&&(q(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var Oa=this._tileZoom,Ma=this.options.maxZoom;if(void 0!==Oa){for(var Ra in this._levels)this._levels[Ra].el.children.length||Ra===Oa?(this._levels[Ra].el.style.zIndex=Ma-_Mathabs(Oa-Ra),this._onUpdateLevel(Ra)):(He(this._levels[Ra].el),this._removeTilesAtZoom(Ra),this._onRemoveLevel(Ra),delete this._levels[Ra]);var Da=this._levels[Oa],Na=this._map;return Da||(Da=this._levels[Oa]={},Da.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),Da.el.style.zIndex=Ma,Da.origin=Na.project(Na.unproject(Na.getPixelOrigin()),Oa).round(),Da.zoom=Oa,this._setZoomTransform(Da,Na.getCenter(),Na.getZoom()),O(Da.el.offsetWidth),this._onCreateLevel(Da)),this._level=Da,Da}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var Oa,Ma,Ra=this._map.getZoom();if(Ra>this.options.maxZoom||Ra<this.options.minZoom)return void this._removeAllTiles();for(Oa in this._tiles)Ma=this._tiles[Oa],Ma.retain=Ma.current;for(Oa in this._tiles)if(Ma=this._tiles[Oa],Ma.current&&!Ma.active){var Da=Ma.coords;this._retainParent(Da.x,Da.y,Da.z,Da.z-5)||this._retainChildren(Da.x,Da.y,Da.z,Da.z+2)}for(Oa in this._tiles)this._tiles[Oa].retain||this._removeTile(Oa)}},_removeTilesAtZoom:function(Oa){for(var Ma in this._tiles)this._tiles[Ma].coords.z===Oa&&this._removeTile(Ma)},_removeAllTiles:function(){for(var Oa in this._tiles)this._removeTile(Oa)},_invalidateAll:function(){for(var Oa in this._levels)He(this._levels[Oa].el),this._onRemoveLevel(Oa),delete this._levels[Oa];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(Oa,Ma,Ra,Da){var Na=_Mathfloor(Oa/2),ja=_Mathfloor(Ma/2),Wa=Ra-1,Ha=new J(+Na,+ja);Ha.z=+Wa;var Fa=this._tileCoordsToKey(Ha),Ua=this._tiles[Fa];return Ua&&Ua.active?(Ua.retain=!0,!0):(Ua&&Ua.loaded&&(Ua.retain=!0),!!(Wa>Da)&&this._retainParent(Na,ja,Wa,Da))},_retainChildren:function(Oa,Ma,Ra,Da){for(var Na=2*Oa;Na<2*Oa+2;Na++)for(var Wa,ja=2*Ma;ja<2*Ma+2;ja++){Wa=new J(Na,ja),Wa.z=Ra+1;var Ha=this._tileCoordsToKey(Wa),Fa=this._tiles[Ha];if(Fa&&Fa.active){Fa.retain=!0;continue}else Fa&&Fa.loaded&&(Fa.retain=!0);Ra+1<Da&&this._retainChildren(Na,ja,Ra+1,Da)}},_resetView:function(Oa){var Ma=Oa&&(Oa.pinch||Oa.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Ma,Ma)},_animateZoom:function(Oa){this._setView(Oa.center,Oa.zoom,!0,Oa.noUpdate)},_clampZoom:function(Oa){var Ma=this.options;return void 0!==Ma.minNativeZoom&&Oa<Ma.minNativeZoom?Ma.minNativeZoom:void 0!==Ma.maxNativeZoom&&Ma.maxNativeZoom<Oa?Ma.maxNativeZoom:Oa},_setView:function(Oa,Ma,Ra,Da){var Na=this._clampZoom(_Mathround(Ma));(this.options.maxZoom!==void 0&&Na>this.options.maxZoom||this.options.minZoom!==void 0&&Na<this.options.minZoom)&&(Na=void 0);var ja=this.options.updateWhenZooming&&Na!==this._tileZoom;(!Da||ja)&&(this._tileZoom=Na,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Na!==void 0&&this._update(Oa),!Ra&&this._pruneTiles(),this._noPrune=!!Ra),this._setZoomTransforms(Oa,Ma)},_setZoomTransforms:function(Oa,Ma){for(var Ra in this._levels)this._setZoomTransform(this._levels[Ra],Oa,Ma)},_setZoomTransform:function(Oa,Ma,Ra){var Da=this._map.getZoomScale(Ra,Oa.zoom),Na=Oa.origin.multiplyBy(Da).subtract(this._map._getNewPixelOrigin(Ma,Ra)).round();ko?et(Oa.el,Na,Da):tt(Oa.el,Na)},_resetGrid:function(){var Oa=this._map,Ma=Oa.options.crs,Ra=this._tileSize=this.getTileSize(),Da=this._tileZoom,Na=this._map.getPixelWorldBounds(this._tileZoom);Na&&(this._globalTileRange=this._pxBoundsToTileRange(Na)),this._wrapX=Ma.wrapLng&&!this.options.noWrap&&[_Mathfloor(Oa.project([0,Ma.wrapLng[0]],Da).x/Ra.x),_Mathceil(Oa.project([0,Ma.wrapLng[1]],Da).x/Ra.y)],this._wrapY=Ma.wrapLat&&!this.options.noWrap&&[_Mathfloor(Oa.project([Ma.wrapLat[0],0],Da).y/Ra.x),_Mathceil(Oa.project([Ma.wrapLat[1],0],Da).y/Ra.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(Oa){var Ma=this._map,Ra=Ma._animatingZoom?_Mathmax(Ma._animateToZoom,Ma.getZoom()):Ma.getZoom(),Da=Ma.getZoomScale(Ra,this._tileZoom),Na=Ma.project(Oa,this._tileZoom).floor(),ja=Ma.getSize().divideBy(2*Da);return new Q(Na.subtract(ja),Na.add(ja))},_update:function(Oa){var Ma=this._map;if(Ma){var Ra=this._clampZoom(Ma.getZoom());if(void 0===Oa&&(Oa=Ma.getCenter()),void 0!==this._tileZoom){var Da=this._getTiledPixelBounds(Oa),Na=this._pxBoundsToTileRange(Da),ja=Na.getCenter(),Wa=[],Ha=this.options.keepBuffer,Fa=new Q(Na.getBottomLeft().subtract([Ha,-Ha]),Na.getTopRight().add([Ha,-Ha]));if(!(isFinite(Na.min.x)&&isFinite(Na.min.y)&&isFinite(Na.max.x)&&isFinite(Na.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ua in this._tiles){var Va=this._tiles[Ua].coords;Va.z===this._tileZoom&&Fa.contains(new J(Va.x,Va.y))||(this._tiles[Ua].current=!1)}if(1<_Mathabs(Ra-this._tileZoom))return void this._setView(Oa,Ra);for(var Ka=Na.min.y;Ka<=Na.max.y;Ka++)for(var qa,Ga=Na.min.x;Ga<=Na.max.x;Ga++)(qa=new J(Ga,Ka),qa.z=this._tileZoom,!!this._isValidTile(qa))&&(this._tiles[this._tileCoordsToKey(qa)]||Wa.push(qa));if(Wa.sort(function(Xa,Ja){return Xa.distanceTo(ja)-Ja.distanceTo(ja)}),0!==Wa.length){this._loading||(this._loading=!0,this.fire("loading"));var Ya=document.createDocumentFragment();for(Ga=0;Ga<Wa.length;Ga++)this._addTile(Wa[Ga],Ya);this._level.el.appendChild(Ya)}}}},_isValidTile:function(Oa){var Ma=this._map.options.crs;if(!Ma.infinite){var Ra=this._globalTileRange;if(!Ma.wrapLng&&(Oa.x<Ra.min.x||Oa.x>Ra.max.x)||!Ma.wrapLat&&(Oa.y<Ra.min.y||Oa.y>Ra.max.y))return!1}if(!this.options.bounds)return!0;var Da=this._tileCoordsToBounds(Oa);return oe(this.options.bounds).overlaps(Da)},_keyToBounds:function(Oa){return this._tileCoordsToBounds(this._keyToTileCoords(Oa))},_tileCoordsToBounds:function(Oa){var Ma=this._map,Ra=this.getTileSize(),Da=Oa.scaleBy(Ra),Na=Da.add(Ra),ja=Ma.unproject(Da,Oa.z),Wa=Ma.unproject(Na,Oa.z),Ha=new te(ja,Wa);return this.options.noWrap||Ma.wrapLatLngBounds(Ha),Ha},_tileCoordsToKey:function(Oa){return Oa.x+":"+Oa.y+":"+Oa.z},_keyToTileCoords:function(Oa){var Ma=Oa.split(":"),Ra=new J(+Ma[0],+Ma[1]);return Ra.z=+Ma[2],Ra},_removeTile:function(Oa){var Ma=this._tiles[Oa];Ma&&(He(Ma.el),delete this._tiles[Oa],this.fire("tileunload",{tile:Ma.el,coords:this._keyToTileCoords(Oa)}))},_initTile:function(Oa){Ge(Oa,"leaflet-tile");var Ma=this.getTileSize();Oa.style.width=Ma.x+"px",Oa.style.height=Ma.y+"px",Oa.onselectstart=O,Oa.onmousemove=O,co&&1>this.options.opacity&&Je(Oa,this.options.opacity),yo&&!fo&&(Oa.style.WebkitBackfaceVisibility="hidden")},_addTile:function(Oa,Ma){var Ra=this._getTilePos(Oa),Da=this._tileCoordsToKey(Oa),Na=this.createTile(this._wrapCoords(Oa),E(this._tileReady,this,Oa));this._initTile(Na),2>this.createTile.length&&G(E(this._tileReady,this,Oa,null,Na)),tt(Na,Ra),this._tiles[Da]={el:Na,coords:Oa,current:!0},Ma.appendChild(Na),this.fire("tileloadstart",{tile:Na,coords:Oa})},_tileReady:function(Oa,Ma,Ra){if(this._map){Ma&&this.fire("tileerror",{error:Ma,tile:Ra,coords:Oa});var Da=this._tileCoordsToKey(Oa);Ra=this._tiles[Da],Ra&&(Ra.loaded=+new Date,this._map._fadeAnimated?(Je(Ra.el,0),q(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(Ra.active=!0,this._pruneTiles()),!Ma&&(Ge(Ra.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Ra.el,coords:Oa})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),co||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(E(this._pruneTiles,this),250)))}},_getTilePos:function(Oa){return Oa.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(Oa){var Ma=new J(this._wrapX?A(Oa.x,this._wrapX):Oa.x,this._wrapY?A(Oa.y,this._wrapY):Oa.y);return Ma.z=Oa.z,Ma},_pxBoundsToTileRange:function(Oa){var Ma=this.getTileSize();return new Q(Oa.min.unscaleBy(Ma).floor(),Oa.max.unscaleBy(Ma).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var Oa in this._tiles)if(!this._tiles[Oa].loaded)return!1;return!0}}),fa=ya.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(Oa,Ma){this._url=Oa,Ma=N(this,Ma),Ma.detectRetina&&Ro&&0<Ma.maxZoom&&(Ma.tileSize=_Mathfloor(Ma.tileSize/2),Ma.zoomReverse?(Ma.zoomOffset--,Ma.minZoom++):(Ma.zoomOffset++,Ma.maxZoom--),Ma.minZoom=_Mathmax(0,Ma.minZoom)),"string"==typeof Ma.subdomains&&(Ma.subdomains=Ma.subdomains.split("")),yo||this.on("tileunload",this._onTileRemove)},setUrl:function(Oa,Ma){return this._url=Oa,Ma||this.redraw(),this},createTile:function(Oa,Ma){var Ra=document.createElement("img");return Te(Ra,"load",E(this._tileOnLoad,this,Ma,Ra)),Te(Ra,"error",E(this._tileOnError,this,Ma,Ra)),this.options.crossOrigin&&(Ra.crossOrigin=""),Ra.alt="",Ra.setAttribute("role","presentation"),Ra.src=this.getTileUrl(Oa),Ra},getTileUrl:function(Oa){var Ma={r:Ro?"@2x":"",s:this._getSubdomain(Oa),x:Oa.x,y:Oa.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Ra=this._globalTileRange.max.y-Oa.y;this.options.tms&&(Ma.y=Ra),Ma["-y"]=Ra}return H(this._url,Z(Ma,this.options))},_tileOnLoad:function(Oa,Ma){co?setTimeout(E(Oa,this,null,Ma),0):Oa(null,Ma)},_tileOnError:function(Oa,Ma,Ra){var Da=this.options.errorTileUrl;Da&&Ma.src!==Da&&(Ma.src=Da),Oa(Ra,Ma)},_onTileRemove:function(Oa){Oa.tile.onload=null},_getZoomForUrl:function(){var Oa=this._tileZoom,Ma=this.options.maxZoom,Ra=this.options.zoomReverse,Da=this.options.zoomOffset;return Ra&&(Oa=Ma-Oa),Oa+Da},_getSubdomain:function(Oa){var Ma=_Mathabs(Oa.x+Oa.y)%this.options.subdomains.length;return this.options.subdomains[Ma]},_abortLoading:function(){var Oa,Ma;for(Oa in this._tiles)this._tiles[Oa].coords.z!==this._tileZoom&&(Ma=this._tiles[Oa].el,Ma.onload=O,Ma.onerror=O,Ma.complete||(Ma.src=Jt,He(Ma)))}}),ha=fa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Oa,Ma){this._url=Oa;var Ra=Z({},this.defaultWmsParams);for(var Da in Ma)Da in this.options||(Ra[Da]=Ma[Da]);Ma=N(this,Ma),Ra.width=Ra.height=Ma.tileSize*(Ma.detectRetina&&Ro?2:1),this.wmsParams=Ra},onAdd:function(Oa){this._crs=this.options.crs||Oa.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Ma=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[Ma]=this._crs.code,fa.prototype.onAdd.call(this,Oa)},getTileUrl:function(Oa){var Ma=this._tileCoordsToBounds(Oa),Ra=this._crs.project(Ma.getNorthWest()),Da=this._crs.project(Ma.getSouthEast()),Na=(1.3<=this._wmsVersion&&this._crs===Hn?[Da.y,Ra.x,Ra.y,Da.x]:[Ra.x,Da.y,Da.x,Ra.y]).join(","),ja=fa.prototype.getTileUrl.call(this,Oa);return ja+W(this.wmsParams,ja,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Na},setParams:function(Oa,Ma){return Z(this.wmsParams,Oa),Ma||this.redraw(),this}});fa.WMS=ha,Nt.wms=function(Aa,Oa){return new ha(Aa,Oa)};var va=Un.extend({options:{padding:0.1},initialize:function(Oa){N(this,Oa),B(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var Oa={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(Oa.zoomanim=this._onAnimZoom),Oa},_onAnimZoom:function(Oa){this._updateTransform(Oa.center,Oa.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(Oa,Ma){var Ra=this._map.getZoomScale(Ma,this._zoom),Da=ot(this._container),Na=this._map.getSize().multiplyBy(0.5+this.options.padding),ja=this._map.project(this._center,Ma),Wa=this._map.project(Oa,Ma),Ha=Wa.subtract(ja),Fa=Na.multiplyBy(-Ra).add(Da).add(Na).subtract(Ha);ko?et(this._container,Fa,Ra):tt(this._container,Fa)},_reset:function(){for(var Oa in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[Oa]._reset()},_onZoomEnd:function(){for(var Oa in this._layers)this._layers[Oa]._project()},_updatePaths:function(){for(var Oa in this._layers)this._layers[Oa]._update()},_update:function(){var Oa=this.options.padding,Ma=this._map.getSize(),Ra=this._map.containerPointToLayerPoint(Ma.multiplyBy(-Oa)).round();this._bounds=new Q(Ra,Ra.add(Ma.multiplyBy(1+2*Oa)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xa=va.extend({getEvents:function(){var Oa=va.prototype.getEvents.call(this);return Oa.viewprereset=this._onViewPreReset,Oa},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){va.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var Oa=this._container=document.createElement("canvas");Te(Oa,"mousemove",I(this._onMouseMove,32,this),this),Te(Oa,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(Oa,"mouseout",this._handleMouseOut,this),this._ctx=Oa.getContext("2d")},_destroyContainer:function(){delete this._ctx,He(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var Oa;for(var Ma in this._redrawBounds=null,this._layers)Oa=this._layers[Ma],Oa._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){this._drawnLayers={},va.prototype._update.call(this);var Oa=this._bounds,Ma=this._container,Ra=Oa.getSize(),Da=Ro?2:1;tt(Ma,Oa.min),Ma.width=Da*Ra.x,Ma.height=Da*Ra.y,Ma.style.width=Ra.x+"px",Ma.style.height=Ra.y+"px",Ro&&this._ctx.scale(2,2),this._ctx.translate(-Oa.min.x,-Oa.min.y),this.fire("update")}},_reset:function(){va.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(Oa){this._updateDashArray(Oa),this._layers[B(Oa)]=Oa;var Ma=Oa._order={layer:Oa,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Ma),this._drawLast=Ma,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(Oa){this._requestRedraw(Oa)},_removePath:function(Oa){var Ma=Oa._order,Ra=Ma.next,Da=Ma.prev;Ra?Ra.prev=Da:this._drawLast=Da,Da?Da.next=Ra:this._drawFirst=Ra,delete Oa._order,delete this._layers[L.stamp(Oa)],this._requestRedraw(Oa)},_updatePath:function(Oa){this._extendRedrawBounds(Oa),Oa._project(),Oa._update(),this._requestRedraw(Oa)},_updateStyle:function(Oa){this._updateDashArray(Oa),this._requestRedraw(Oa)},_updateDashArray:function(Oa){if(Oa.options.dashArray){var Da,Ma=Oa.options.dashArray.split(","),Ra=[];for(Da=0;Da<Ma.length;Da++)Ra.push(+Ma[Da]);Oa.options._dashArray=Ra}},_requestRedraw:function(Oa){this._map&&(this._extendRedrawBounds(Oa),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(Oa){if(Oa._pxBounds){var Ma=(Oa.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(Oa._pxBounds.min.subtract([Ma,Ma])),this._redrawBounds.extend(Oa._pxBounds.max.add([Ma,Ma]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var Oa=this._redrawBounds;if(Oa){var Ma=Oa.getSize();this._ctx.clearRect(Oa.min.x,Oa.min.y,Ma.x,Ma.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var Oa,Ma=this._redrawBounds;if(this._ctx.save(),Ma){var Ra=Ma.getSize();this._ctx.beginPath(),this._ctx.rect(Ma.min.x,Ma.min.y,Ra.x,Ra.y),this._ctx.clip()}this._drawing=!0;for(var Da=this._drawFirst;Da;Da=Da.next)Oa=Da.layer,(!Ma||Oa._pxBounds&&Oa._pxBounds.intersects(Ma))&&Oa._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(Oa,Ma){if(this._drawing){var Ra,Da,Na,ja,Wa=Oa._parts,Ha=Wa.length,Fa=this._ctx;if(Ha){for(this._drawnLayers[Oa._leaflet_id]=Oa,Fa.beginPath(),Ra=0;Ra<Ha;Ra++){for(Da=0,Na=Wa[Ra].length;Da<Na;Da++)ja=Wa[Ra][Da],Fa[Da?"lineTo":"moveTo"](ja.x,ja.y);Ma&&Fa.closePath()}this._fillStroke(Fa,Oa)}}},_updateCircle:function(Oa){if(this._drawing&&!Oa._empty()){var Ma=Oa._point,Ra=this._ctx,Da=Oa._radius,Na=(Oa._radiusY||Da)/Da;this._drawnLayers[Oa._leaflet_id]=Oa,1!=Na&&(Ra.save(),Ra.scale(1,Na)),Ra.beginPath(),Ra.arc(Ma.x,Ma.y/Na,Da,0,2*_MathPI,!1),1!=Na&&Ra.restore(),this._fillStroke(Ra,Oa)}},_fillStroke:function(Oa,Ma){var Ra=Ma.options;Ra.fill&&(Oa.globalAlpha=Ra.fillOpacity,Oa.fillStyle=Ra.fillColor||Ra.color,Oa.fill(Ra.fillRule||"evenodd")),Ra.stroke&&0!==Ra.weight&&(Oa.setLineDash&&Oa.setLineDash(Ma.options&&Ma.options._dashArray||[]),Oa.globalAlpha=Ra.opacity,Oa.lineWidth=Ra.weight,Oa.strokeStyle=Ra.color,Oa.lineCap=Ra.lineCap,Oa.lineJoin=Ra.lineJoin,Oa.stroke())},_onClick:function(Oa){for(var Ra,Da,Ma=this._map.mouseEventToLayerPoint(Oa),Na=this._drawFirst;Na;Na=Na.next)Ra=Na.layer,Ra.options.interactive&&Ra._containsPoint(Ma)&&!this._map._draggableMoved(Ra)&&(Da=Ra);Da&&(Oe(Oa),this._fireEvent([Da],Oa))},_onMouseMove:function(Oa){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Ma=this._map.mouseEventToLayerPoint(Oa);this._handleMouseHover(Oa,Ma)}},_handleMouseOut:function(Oa){var Ma=this._hoveredLayer;Ma&&(qe(this._container,"leaflet-interactive"),this._fireEvent([Ma],Oa,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(Oa,Ma){for(var Ra,Da,Na=this._drawFirst;Na;Na=Na.next)Ra=Na.layer,Ra.options.interactive&&Ra._containsPoint(Ma)&&(Da=Ra);Da!==this._hoveredLayer&&(this._handleMouseOut(Oa),Da&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([Da],Oa,"mouseover"),this._hoveredLayer=Da)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],Oa)},_fireEvent:function(Oa,Ma,Ra){this._map._fireDOMEvent(Ma,Ra||Ma.type,Oa)},_bringToFront:function(Oa){var Ma=Oa._order,Ra=Ma.next,Da=Ma.prev;if(Ra)Ra.prev=Da;else return;Da?Da.next=Ra:Ra&&(this._drawFirst=Ra),Ma.prev=this._drawLast,this._drawLast.next=Ma,Ma.next=null,this._drawLast=Ma,this._requestRedraw(Oa)},_bringToBack:function(Oa){var Ma=Oa._order,Ra=Ma.next,Da=Ma.prev;if(Da)Da.next=Ra;else return;Ra?Ra.prev=Da:Da&&(this._drawLast=Da),Ma.prev=null,Ma.next=this._drawFirst,this._drawFirst.prev=Ma,this._drawFirst=Ma,this._requestRedraw(Oa)}}),La=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(Aa){return document.createElement("<lvml:"+Aa+" class=\"lvml\">")}}catch(Aa){return function(Oa){return document.createElement("<"+Oa+" xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">")}}}(),ba=jo?La:_e,Ta=va.extend({getEvents:function(){var Oa=va.prototype.getEvents.call(this);return Oa.zoomstart=this._onZoomStart,Oa},_initContainer:function(){this._container=ba("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ba("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){He(this._container),ze(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){va.prototype._update.call(this);var Oa=this._bounds,Ma=Oa.getSize(),Ra=this._container;this._svgSize&&this._svgSize.equals(Ma)||(this._svgSize=Ma,Ra.setAttribute("width",Ma.x),Ra.setAttribute("height",Ma.y)),tt(Ra,Oa.min),Ra.setAttribute("viewBox",[Oa.min.x,Oa.min.y,Ma.x,Ma.y].join(" ")),this.fire("update")}},_initPath:function(Oa){var Ma=Oa._path=ba("path");Oa.options.className&&Ge(Ma,Oa.options.className),Oa.options.interactive&&Ge(Ma,"leaflet-interactive"),this._updateStyle(Oa),this._layers[B(Oa)]=Oa},_addPath:function(Oa){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(Oa._path),Oa.addInteractiveTarget(Oa._path)},_removePath:function(Oa){He(Oa._path),Oa.removeInteractiveTarget(Oa._path),delete this._layers[B(Oa)]},_updatePath:function(Oa){Oa._project(),Oa._update()},_updateStyle:function(Oa){var Ma=Oa._path,Ra=Oa.options;Ma&&(Ra.stroke?(Ma.setAttribute("stroke",Ra.color),Ma.setAttribute("stroke-opacity",Ra.opacity),Ma.setAttribute("stroke-width",Ra.weight),Ma.setAttribute("stroke-linecap",Ra.lineCap),Ma.setAttribute("stroke-linejoin",Ra.lineJoin),Ra.dashArray?Ma.setAttribute("stroke-dasharray",Ra.dashArray):Ma.removeAttribute("stroke-dasharray"),Ra.dashOffset?Ma.setAttribute("stroke-dashoffset",Ra.dashOffset):Ma.removeAttribute("stroke-dashoffset")):Ma.setAttribute("stroke","none"),Ra.fill?(Ma.setAttribute("fill",Ra.fillColor||Ra.color),Ma.setAttribute("fill-opacity",Ra.fillOpacity),Ma.setAttribute("fill-rule",Ra.fillRule||"evenodd")):Ma.setAttribute("fill","none"))},_updatePoly:function(Oa,Ma){this._setPath(Oa,pe(Oa._parts,Ma))},_updateCircle:function(Oa){var Ma=Oa._point,Ra=Oa._radius,Da=Oa._radiusY||Ra,Na="a"+Ra+","+Da+" 0 1,0 ",ja=Oa._empty()?"M0 0":"M"+(Ma.x-Ra)+","+Ma.y+Na+2*Ra+",0 "+Na+2*-Ra+",0 ";this._setPath(Oa,ja)},_setPath:function(Oa,Ma){Oa._path.setAttribute("d",Ma)},_bringToFront:function(Oa){Ue(Oa._path)},_bringToBack:function(Oa){Ve(Oa._path)}});jo&&Ta.include({_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(va.prototype._update.call(this),this.fire("update"))},_initPath:function(Oa){var Ma=Oa._container=La("shape");Ge(Ma,"leaflet-vml-shape "+(this.options.className||"")),Ma.coordsize="1 1",Oa._path=La("path"),Ma.appendChild(Oa._path),this._updateStyle(Oa),this._layers[B(Oa)]=Oa},_addPath:function(Oa){var Ma=Oa._container;this._container.appendChild(Ma),Oa.options.interactive&&Oa.addInteractiveTarget(Ma)},_removePath:function(Oa){var Ma=Oa._container;He(Ma),Oa.removeInteractiveTarget(Ma),delete this._layers[B(Oa)]},_updateStyle:function(Oa){var Ma=Oa._stroke,Ra=Oa._fill,Da=Oa.options,Na=Oa._container;Na.stroked=!!Da.stroke,Na.filled=!!Da.fill,Da.stroke?(!Ma&&(Ma=Oa._stroke=La("stroke")),Na.appendChild(Ma),Ma.weight=Da.weight+"px",Ma.color=Da.color,Ma.opacity=Da.opacity,Ma.dashStyle=Da.dashArray?Xt(Da.dashArray)?Da.dashArray.join(" "):Da.dashArray.replace(/( *, *)/g," "):"",Ma.endcap=Da.lineCap.replace("butt","flat"),Ma.joinstyle=Da.lineJoin):Ma&&(Na.removeChild(Ma),Oa._stroke=null),Da.fill?(!Ra&&(Ra=Oa._fill=La("fill")),Na.appendChild(Ra),Ra.color=Da.fillColor||Da.color,Ra.opacity=Da.fillOpacity):Ra&&(Na.removeChild(Ra),Oa._fill=null)},_updateCircle:function(Oa){var Ma=Oa._point.round(),Ra=_Mathround(Oa._radius),Da=_Mathround(Oa._radiusY||Ra);this._setPath(Oa,Oa._empty()?"M0 0":"AL "+Ma.x+","+Ma.y+" "+Ra+","+Da+" 0,"+23592600)},_setPath:function(Oa,Ma){Oa._path.v=Ma},_bringToFront:function(Oa){Ue(Oa._container)},_bringToBack:function(Oa){Ve(Oa._container)}}),hn.include({getRenderer:function(Oa){var Ma=Oa.options.renderer||this._getPaneRenderer(Oa.options.pane)||this.options.renderer||this._renderer;return Ma||(Ma=this._renderer=this.options.preferCanvas&&Wt()||Ht()),this.hasLayer(Ma)||this.addLayer(Ma),Ma},_getPaneRenderer:function(Oa){if("overlayPane"===Oa||void 0===Oa)return!1;var Ma=this._paneRenderers[Oa];return void 0===Ma&&(Ma=Ta&&Ht({pane:Oa})||xa&&Wt({pane:Oa}),this._paneRenderers[Oa]=Ma),Ma}});var za=na.extend({initialize:function(Oa,Ma){na.prototype.initialize.call(this,this._boundsToLatLngs(Oa),Ma)},setBounds:function(Oa){return this.setLatLngs(this._boundsToLatLngs(Oa))},_boundsToLatLngs:function(Oa){return Oa=oe(Oa),[Oa.getSouthWest(),Oa.getNorthWest(),Oa.getNorthEast(),Oa.getSouthEast()]}});Ta.create=ba,Ta.pointsToPath=pe,aa.geometryToLayer=kt,aa.coordsToLatLng=Zt,aa.coordsToLatLngs=St,aa.latLngToCoords=Et,aa.latLngsToCoords=Bt,aa.getFeature=It,aa.asFeature=At,hn.mergeOptions({boxZoom:!0});var wa=Zn.extend({initialize:function(Oa){this._map=Oa,this._container=Oa._container,this._pane=Oa._panes.overlayPane,this._resetStateTimeout=0,Oa.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){He(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(Oa){return Oa.shiftKey&&(1===Oa.which||1===Oa.button)&&void(this._clearDeferredResetState(),this._resetState(),dn(),nt(),this._startPoint=this._map.mouseEventToContainerPoint(Oa),Te(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(Oa){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(Oa);var Ma=new Q(this._point,this._startPoint),Ra=Ma.getSize();tt(this._box,Ma.min),this._box.style.width=Ra.x+"px",this._box.style.height=Ra.y+"px"},_finish:function(){this._moved&&(He(this._box),qe(this._container,"leaflet-crosshair")),_n(),at(),ze(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(Oa){if((1===Oa.which||1===Oa.button)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(E(this._resetState,this),0);var Ma=new te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Ma).fire("boxzoomend",{boxZoomBounds:Ma})}},_onKeyDown:function(Oa){27===Oa.keyCode&&this._finish()}});hn.addInitHook("addHandler","boxZoom",wa),hn.mergeOptions({doubleClickZoom:!0});var Ca=Zn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(Oa){var Ma=this._map,Ra=Ma.getZoom(),Da=Ma.options.zoomDelta,Na=Oa.originalEvent.shiftKey?Ra-Da:Ra+Da;"center"===Ma.options.doubleClickZoom?Ma.setZoom(Na):Ma.setZoomAround(Oa.containerPoint,Na)}});hn.addInitHook("addHandler","doubleClickZoom",Ca),hn.mergeOptions({dragging:!0,inertia:!fo,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:0.2,worldCopyJump:!1,maxBoundsViscosity:0});var ka=Zn.extend({addHooks:function(){if(!this._draggable){var Oa=this._map;this._draggable=new An(Oa._mapPane,Oa._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),Oa.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),Oa.on("zoomend",this._onZoomEnd,this),Oa.whenReady(this._onZoomEnd,this))}Ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qe(this._map._container,"leaflet-grab"),qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var Oa=this._map;if(Oa._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Ma=oe(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(Ma.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Ma.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=_Mathmin(1,_Mathmax(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;Oa.fire("movestart").fire("dragstart"),Oa.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(Oa){if(this._map.options.inertia){var Ma=this._lastTime=+new Date,Ra=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Ra),this._times.push(Ma),50<Ma-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move",Oa).fire("drag",Oa)},_onZoomEnd:function(){var Oa=this._map.getSize().divideBy(2),Ma=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Ma.subtract(Oa).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(Oa,Ma){return Oa-(Oa-Ma)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var Oa=this._draggable._newPos.subtract(this._draggable._startPos),Ma=this._offsetLimit;Oa.x<Ma.min.x&&(Oa.x=this._viscousLimit(Oa.x,Ma.min.x)),Oa.y<Ma.min.y&&(Oa.y=this._viscousLimit(Oa.y,Ma.min.y)),Oa.x>Ma.max.x&&(Oa.x=this._viscousLimit(Oa.x,Ma.max.x)),Oa.y>Ma.max.y&&(Oa.y=this._viscousLimit(Oa.y,Ma.max.y)),this._draggable._newPos=this._draggable._startPos.add(Oa)}},_onPreDragWrap:function(){var Oa=this._worldWidth,Ma=_Mathround(Oa/2),Ra=this._initialWorldOffset,Da=this._draggable._newPos.x,Na=(Da-Ma+Ra)%Oa+Ma-Ra,ja=(Da+Ma+Ra)%Oa-Ma-Ra,Wa=_Mathabs(Na+Ra)<_Mathabs(ja+Ra)?Na:ja;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Wa},_onDragEnd:function(Oa){var Ma=this._map,Ra=Ma.options,Da=!Ra.inertia||2>this._times.length;if(Ma.fire("dragend",Oa),Da)Ma.fire("moveend");else{var Na=this._lastPos.subtract(this._positions[0]),ja=(this._lastTime-this._times[0])/1e3,Wa=Ra.easeLinearity,Ha=Na.multiplyBy(Wa/ja),Fa=Ha.distanceTo([0,0]),Ua=_Mathmin(Ra.inertiaMaxSpeed,Fa),Va=Ha.multiplyBy(Ua/Fa),Ka=Ua/(Ra.inertiaDeceleration*Wa),Ga=Va.multiplyBy(-Ka/2).round();Ga.x||Ga.y?(Ga=Ma._limitOffset(Ga,Ma.options.maxBounds),G(function(){Ma.panBy(Ga,{duration:Ka,easeLinearity:Wa,noMoveStart:!0,animate:!0})})):Ma.fire("moveend")}}});hn.addInitHook("addHandler","dragging",ka),hn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Za=Zn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(Oa){this._map=Oa,this._setPanDelta(Oa.options.keyboardPanDelta),this._setZoomDelta(Oa.options.zoomDelta)},addHooks:function(){var Oa=this._map._container;0>=Oa.tabIndex&&(Oa.tabIndex="0"),Te(Oa,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var Oa=document.body,Ma=document.documentElement,Ra=Oa.scrollTop||Ma.scrollTop,Da=Oa.scrollLeft||Ma.scrollLeft;this._map._container.focus(),window.scrollTo(Da,Ra)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(Oa){var Da,Na,Ma=this._panKeys={},Ra=this.keyCodes;for(Da=0,Na=Ra.left.length;Da<Na;Da++)Ma[Ra.left[Da]]=[-1*Oa,0];for(Da=0,Na=Ra.right.length;Da<Na;Da++)Ma[Ra.right[Da]]=[Oa,0];for(Da=0,Na=Ra.down.length;Da<Na;Da++)Ma[Ra.down[Da]]=[0,Oa];for(Da=0,Na=Ra.up.length;Da<Na;Da++)Ma[Ra.up[Da]]=[0,-1*Oa]},_setZoomDelta:function(Oa){var Da,Na,Ma=this._zoomKeys={},Ra=this.keyCodes;for(Da=0,Na=Ra.zoomIn.length;Da<Na;Da++)Ma[Ra.zoomIn[Da]]=Oa;for(Da=0,Na=Ra.zoomOut.length;Da<Na;Da++)Ma[Ra.zoomOut[Da]]=-Oa},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(Oa){if(!(Oa.altKey||Oa.ctrlKey||Oa.metaKey)){var Da,Ma=Oa.keyCode,Ra=this._map;if(Ma in this._panKeys){if(Ra._panAnim&&Ra._panAnim._inProgress)return;Da=this._panKeys[Ma],Oa.shiftKey&&(Da=$(Da).multiplyBy(3)),Ra.panBy(Da),Ra.options.maxBounds&&Ra.panInsideBounds(Ra.options.maxBounds)}else if(Ma in this._zoomKeys)Ra.setZoom(Ra.getZoom()+(Oa.shiftKey?3:1)*this._zoomKeys[Ma]);else if(27===Ma&&Ra._popup)Ra.closePopup();else return;Be(Oa)}}});hn.addInitHook("addHandler","keyboard",Za),hn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sa=Zn.extend({addHooks:function(){Te(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(Oa){var Ma=Ae(Oa),Ra=this._map.options.wheelDebounceTime;this._delta+=Ma,this._lastMousePos=this._map.mouseEventToContainerPoint(Oa),this._startTime||(this._startTime=+new Date);var Da=_Mathmax(Ra-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(E(this._performZoom,this),Da),Be(Oa)},_performZoom:function(){var Oa=this._map,Ma=Oa.getZoom(),Ra=this._map.options.zoomSnap||0;Oa._stop();var Da=this._delta/(4*this._map.options.wheelPxPerZoomLevel),Na=4*_Mathlog(2/(1+_Mathexp(-_Mathabs(Da))))/_MathLN,ja=Ra?_Mathceil(Na/Ra)*Ra:Na,Wa=Oa._limitZoom(Ma+(0<this._delta?ja:-ja))-Ma;this._delta=0,this._startTime=null;Wa&&("center"===Oa.options.scrollWheelZoom?Oa.setZoom(Ma+Wa):Oa.setZoomAround(this._lastMousePos,Ma+Wa))}});hn.addInitHook("addHandler","scrollWheelZoom",Sa),hn.mergeOptions({tap:!0,tapTolerance:15});var Ea=Zn.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(Oa){if(Oa.touches){if(Ee(Oa),this._fireClick=!0,1<Oa.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var Ma=Oa.touches[0],Ra=Ma.target;this._startPos=this._newPos=new J(Ma.clientX,Ma.clientY),Ra.tagName&&"a"===Ra.tagName.toLowerCase()&&Ge(Ra,"leaflet-active"),this._holdTimeout=setTimeout(E(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",Ma))},this),1e3),this._simulateEvent("mousedown",Ma),Te(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(Oa){if(clearTimeout(this._holdTimeout),ze(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&Oa&&Oa.changedTouches){var Ma=Oa.changedTouches[0],Ra=Ma.target;Ra&&Ra.tagName&&"a"===Ra.tagName.toLowerCase()&&qe(Ra,"leaflet-active"),this._simulateEvent("mouseup",Ma),this._isTapValid()&&this._simulateEvent("click",Ma)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(Oa){var Ma=Oa.touches[0];this._newPos=new J(Ma.clientX,Ma.clientY),this._simulateEvent("mousemove",Ma)},_simulateEvent:function(Oa,Ma){var Ra=document.createEvent("MouseEvents");Ra._simulated=!0,Ma.target._simulatedClick=!0,Ra.initMouseEvent(Oa,!0,!0,window,1,Ma.screenX,Ma.screenY,Ma.clientX,Ma.clientY,!1,!1,!1,!1,0,null),Ma.target.dispatchEvent(Ra)}});Ao&&!Io&&hn.addInitHook("addHandler","tap",Ea),hn.mergeOptions({touchZoom:Ao&&!fo,bounceAtZoomLimits:!0});var Ba=Zn.extend({addHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(Oa){var Ma=this._map;if(!(!Oa.touches||2!==Oa.touches.length||Ma._animatingZoom||this._zooming)){var Ra=Ma.mouseEventToContainerPoint(Oa.touches[0]),Da=Ma.mouseEventToContainerPoint(Oa.touches[1]);this._centerPoint=Ma.getSize()._divideBy(2),this._startLatLng=Ma.containerPointToLatLng(this._centerPoint),"center"!==Ma.options.touchZoom&&(this._pinchStartLatLng=Ma.containerPointToLatLng(Ra.add(Da)._divideBy(2))),this._startDist=Ra.distanceTo(Da),this._startZoom=Ma.getZoom(),this._moved=!1,this._zooming=!0,Ma._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend",this._onTouchEnd,this),Ee(Oa)}},_onTouchMove:function(Oa){if(Oa.touches&&2===Oa.touches.length&&this._zooming){var Ma=this._map,Ra=Ma.mouseEventToContainerPoint(Oa.touches[0]),Da=Ma.mouseEventToContainerPoint(Oa.touches[1]),Na=Ra.distanceTo(Da)/this._startDist;if(this._zoom=Ma.getScaleZoom(Na,this._startZoom),!Ma.options.bounceAtZoomLimits&&(this._zoom<Ma.getMinZoom()&&1>Na||this._zoom>Ma.getMaxZoom()&&1<Na)&&(this._zoom=Ma._limitZoom(this._zoom)),"center"!==Ma.options.touchZoom){var ja=Ra._add(Da)._divideBy(2)._subtract(this._centerPoint);if(1==Na&&0===ja.x&&0===ja.y)return;this._center=Ma.unproject(Ma.project(this._pinchStartLatLng,this._zoom).subtract(ja),this._zoom)}else if(this._center=this._startLatLng,1==Na)return;this._moved||(Ma._moveStart(!0),this._moved=!0),q(this._animRequest);var Wa=E(Ma._move,Ma,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=G(Wa,this,!0),Ee(Oa)}},_onTouchEnd:function(){return this._moved&&this._zooming?void(this._zooming=!1,q(this._animRequest),ze(document,"touchmove",this._onTouchMove),ze(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):void(this._zooming=!1)}});hn.addInitHook("addHandler","touchZoom",Ba),hn.BoxZoom=wa,hn.DoubleClickZoom=Ca,hn.Drag=ka,hn.Keyboard=Za,hn.ScrollWheelZoom=Sa,hn.Tap=Ea,hn.TouchZoom=Ba;var Ia=window.L;window.L=C,Object.freeze=Kt,C.version="1.2.0",C.noConflict=function(){return window.L=Ia,this},C.Control=vn,C.control=xn,C.Browser=Wo,C.Evented=ao,C.Mixin={Events:no},C.Util=oo,C.Class=Y,C.Handler=Zn,C.extend=Z,C.bind=E,C.stamp=B,C.setOptions=N,C.DomEvent=an,C.DomUtil=gn,C.PosAnimation=yn,C.Draggable=An,C.LineUtil=Mn,C.PolyUtil=Rn,C.Point=J,C.point=$,C.Bounds=Q,C.bounds=ee,C.Transformation=le,C.transformation=de,C.Projection=jn,C.LatLng=ae,C.latLng=re,C.LatLngBounds=te,C.latLngBounds=oe,C.CRS=io,C.GeoJSON=aa,C.geoJSON=Ot,C.geoJson=Ot,C.Layer=Un,C.LayerGroup=Vn,C.layerGroup=function(Oa){return new Vn(Oa)},C.FeatureGroup=Gn,C.featureGroup=function(Oa){return new Gn(Oa)},C.ImageOverlay=sa,C.imageOverlay=function(Oa,Ma,Ra){return new sa(Oa,Ma,Ra)},C.VideoOverlay=da,C.videoOverlay=function(Aa,Oa,Ma){return new da(Aa,Oa,Ma)},C.DivOverlay=_a,C.Popup=pa,C.popup=function(Oa,Ma){return new pa(Oa,Ma)},C.Tooltip=ca,C.tooltip=function(Oa,Ma){return new ca(Oa,Ma)},C.Icon=Yn,C.icon=function(Aa){return new Yn(Aa)},C.DivIcon=ga,C.divIcon=function(Aa){return new ga(Aa)},C.Marker=$n,C.marker=function(Aa,Oa){return new $n(Aa,Oa)},C.TileLayer=fa,C.tileLayer=Nt,C.GridLayer=ya,C.gridLayer=function(Aa){return new ya(Aa)},C.SVG=Ta,C.svg=Ht,C.Renderer=va,C.Canvas=xa,C.canvas=Wt,C.Path=Qn,C.CircleMarker=ea,C.circleMarker=function(Aa,Oa){return new ea(Aa,Oa)},C.Circle=ta,C.circle=function(Aa,Oa,Ma){return new ta(Aa,Oa,Ma)},C.Polyline=oa,C.polyline=function(Aa,Oa){return new oa(Aa,Oa)},C.Polygon=na,C.polygon=function(Aa,Oa){return new na(Aa,Oa)},C.Rectangle=za,C.rectangle=function(Aa,Oa){return new za(Aa,Oa)},C.Map=hn,C.map=function(Aa,Oa){return new hn(Aa,Oa)}})},751:function(o){"use strict";var h=function(){var T=this,C=T.$createElement,Z=T._self._c||C;return Z("div",{ref:"map",staticClass:"map"})};h._withStripped=!0,o.exports={render:h,staticRenderFns:[]},!1}});